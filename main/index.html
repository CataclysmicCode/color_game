<!DOCTYPE html>
<!--

Collab with Cataclysmic Code, the amazing most stupendous (no gramer) programmer there ever was.  -  Cataclysmic Code

-->
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>New webpage</title>
        <style>

            * {
                -webkit-user-select: none; /* Safari */
                -moz-user-select: none; /* Firefox */
                -ms-user-select: none; /* Internet Explorer/Edge */
                user-select: none; /* Standard */
            }

            #progress-container {
                width: 100%;
                background-color: #f3f3f3;
                padding: 0;
                position: fixed;
                top: 0;
                left: 0;
                z-index: 1000;
            }
            #progress-bar {
                width: 0;
                height: 10px; /* Adjust the height as needed */
                background-color: #4caf50;
            }

            body {
                overflow: hidden;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                background-color: #2c3e50;
                margin: 0;
                flex-direction: column;
                font-family: Arial, Helvetica, sans-serif;
            }

            canvas {
                position: absolute;
            }
            #webgl-fog {
                opacity: 0.5;
            }

            .loader {
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            h1 {
                color: #ecf0f1;
                margin-bottom: 20px;
            }

            h3 {
                text-align: left;
                color: #ecf0f1;
                margin-left: 20px;
            }

            .dots {
                display: flex;
                justify-content: space-around;
                width: 100px;
            }

            .dot {
                width: 15px;
                height: 15px;
                background-color: #ecf0f1;
                border-radius: 50%;
                animation: loader-animation 1.2s infinite ease-in-out both;
            }

            @keyframes loader-animation {
                0%, 80%, 100% {
                    transform: scale(0);
                }
                40% {
                    transform: scale(1);
                }
            }

            .dot:nth-child(1) {
                animation-delay: -0.32s;
            }
            .dot:nth-child(2) {
                animation-delay: -0.16s;
            }
            .dot:nth-child(3) {
                animation-delay: 0s;
            }
            .dot:nth-child(4) {
                animation-delay: 0.16s;
            }
            .dot:nth-child(5) {
                animation-delay: 0.32s;
            }
            .dot:nth-child(6) {
                animation-delay: 0.48s;
            }
            .dot:nth-child(7) {
                animation-delay: 0.64s;
            }
            .dot:nth-child(8) {
                animation-delay: 0.8s;
            }

            footer {
                position: absolute;
                bottom: 20px;
                width: calc(100% - 40px);
                background-color: rgba(0, 0, 0, 0.5);
                color: white;
                text-align: center;
                padding: 10px;
                margin: 0 20px;
                box-sizing: border-box;
            }

            .tip {
                position: relative;
                height: 40px;
                overflow: hidden;
            }

            .tip div {
                position: absolute;
                width: 100%;
                opacity: 0;
                animation: fade 50s linear infinite;
            }

            /*
                t = time
                a = amount of tips
            */
            .tip div:nth-child(1) {
                animation-delay: 0s;
            }
            .tip div:nth-child(2) {
                animation-delay: 10s; /* t/a */
            }
            .tip div:nth-child(3) {
                animation-delay: 20s; /* (t/a)*2 */
            }
            .tip div:nth-child(4) {
                animation-delay: 30s; /* (t/a)*3 */
            }
            .tip div:nth-child(5) {
                animation-delay: 40s; /* (t/a)*4 */
            }

            @keyframes fade {
                0%{
                    opacity: 0;
                }
                10%{ /* (100/a)/2 */
                    opacity: 0;
                }
                20%{ /* 100/a */
                    opacity: 1;
                }
                30%{ /* ((100/a)/2)*3 */
                    opacity: 0;
                }
                100%{
                    opacity: 0;
                }
            }

        </style>
    </head>
    <body onload = "init();">
        <div id="progress-container" class="loading">
            <div id="progress-bar"></div>
        </div>
        <div class="loader loading">
            <h1>Loading</h1>
            <div class="dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
        <footer class="loading">
            <h3>Tip</h3>
            <div class="tip">
                <div>Falling off the edge of the level causes you to lose health.</div>
                <div>Fill your color bar up to the top for maximum color power!</div>
                <div>This game has epic audio so turn up your speakers to the max!</div>
                <div>Death is inevitable. The inevitable can only be prolonged. The prolonged is the procrastinated. Procrastination is inevitable. Need I say more?</div>
                <div>I'm outta ideas here please help me!</div>
            </div>
        </footer>
        <canvas class="sketch"></canvas>
    </body>

    <!--PJs-->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Khan/processing-js@master/processing.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Mushy-Avocado/KA-exporter@v1.0.1/exporter.js"></script>

    <!--Audio-->
    <script type>

        //load all audio
        let names = "cute1 cute2 cute3 cute4 cute5 happy1 happy2 splash1 splash2 underwater wilhelm dark1 dark2 dark3 dark4 egg1 egg2".split(" ");
        let totalAudio = names.length, loadedAudio = 0;
        let masterSongVolume = 1, masterSoundVolume = 1, masterVolume = 1;
        for(let i = 0; i < totalAudio; i++){
            let dScript = document.createElement('script');
            dScript.src = 'https://cdn.jsdelivr.net/gh/CataclysmicCode/collab_audio/js/'+names[i]+'.js';
            document.body.appendChild(dScript);
        }

        // Â© Leafers Studios 2024
        // https://www.khanacademy.org/computer-programming/song-player-elektronomia-sky-high/5456240516710400
        let sounds = {}, songs = {};
        class Base64Sound {
            constructor (t, params) {
                
                this.audio = t;
                this.audioContext = new(AudioContext || webkitAudioContext);
                this.analyser = this.audioContext.createAnalyser();
                this.analyser.fftSize = 256;
                this.source = null;
                this.buffer = null;
                
                this.gainNode = this.audioContext.createGain();
    
                this.isPlaying = 0;
                this.startTime = 0;
                this.elapsedTime = 0;
                this.duration = 0;
                this.hasEnded = 0;
                this.isPaused = 0;
    
                this.loop = 0;
                this.onLoad = null;
                this.onEnd = null;
                this.nextSong = null;
                this.fadeIn =  false;
                this.fadeDuration =  1;
                this.volume = 1;
                this.ownVolume = 1;
    
                for (let param in params) {
                    this[param] = params[param];
                }

                this.loadAudio();
    
            };
    
            _convertBase64ToArrayBuffer(t) {
                for (var e = atob(t.split(",")[1]), i = e.length, a = new Uint8Array(i), n = 0; n < i; n++) a[n] = e.charCodeAt(n);
                return a.buffer;
            };
    
            loadAudio() {
                let e = this._convertBase64ToArrayBuffer(this.audio), i = this;
                this.audioContext.decodeAudioData(e, function(t) {
                    i.buffer = t;
                    i.duration = t.duration;
                    loadedAudio++;
                    if (i.onLoad) i.onLoad();
                }, function(t) {});
            };
    
            togglePlayPause() {
                this.hasEnded ? (this.play(), this.hasEnded = 0) : (this.isPlaying ? this.pause() : !this.isPlaying && this.buffer && this.play());
            };
    
            play() {
                if (this.buffer) {
    
                    this.source = this.audioContext.createBufferSource();
                    this.source.buffer = this.buffer;
                    this.source.connect(this.gainNode);
                    this.gainNode.connect(this.analyser);
                    this.analyser.connect(this.audioContext.destination);
    
                    let t = this.elapsedTime > 0 ? this.elapsedTime : 0;
                    this.startTime = this.audioContext.currentTime - t;
                    this.source.start(0, t);
                    this.isPlaying = 1;
                    this.hasEnded = 0;
                    this.isPaused = 0;
    
                    // Set initial volume
                    this.gainNode.gain.setValueAtTime(this.fadeIn ? 0 : this.volume, this.audioContext.currentTime);
                    if (this.fadeIn) {
                        this.gainNode.gain.linearRampToValueAtTime(this.volume, this.audioContext.currentTime + this.fadeDuration); // Use fadeInDuration for fade in
                    }
    
                    let e = this;
                    this.source.onended = function() {
                        if (e.onEnd && e.isPlaying) e.onEnd();
                        if (e.nextSong && e.isPlaying) e.nextSong.play();
                        e.isPaused || (e.loop ? e.play() : (e.isPlaying = 0, e.elapsedTime = 0, e.hasEnded = 1));
                    };
    
                }
            };
    
            stop() {
                
                this.isPlaying = 0;
                this.startTime = 0;
                this.elapsedTime = 0;
                this.hasEnded = 0;
                this.isPaused = 1;
    
                //this.onEnd = function(){};
                if (this.source) {
                    this.source.stop();
                }
    
            };
    
            pause() {
                this.isPlaying && (this.source.stop(), this.elapsedTime = this.audioContext.currentTime - this.startTime, this.isPlaying = 0, this.isPaused = 1);
            };
            
            calculateVolume(volume) {
                this.volume = volume * this.ownVolume * (this.isSong ? masterSongVolume : masterSoundVolume) * masterVolume;
            };

            setVolume(volume) {
                this.calculateVolume(volume);
                let currentTime = this.audioContext.currentTime;
                this.gainNode.gain.setValueAtTime(this.gainNode.gain.value, currentTime);
                this.gainNode.gain.linearRampToValueAtTime(this.volume, currentTime + 0.01);
            };
            
            fadeOut(duration) {
                this.gainNode.gain.linearRampToValueAtTime(0, this.audioContext.currentTime + (duration||this.fadeDuration));
                let e = this;
                setTimeout(function() {
                    e.stop();
                }, duration * 1000);
            };
        }

        function parseAudio(){
            
            console.log('---Parsing audio---');
            
            let Sounds = [
                {
                    name: "cute1",
                    data: cute1,
                    ownVolume: 0.3
                },
                {
                    name: "cute2",
                    data: cute2,
                    ownVolume: 0.3
                },
                {
                    name: "cute3",
                    data: cute3,
                    ownVolume: 0.3
                },
                {
                    name: "cute4",
                    data: cute4,
                    ownVolume: 0.3
                },
                {
                    name: "cute5",
                    data: cute5,
                    ownVolume: 0.3
                },
                {
                    name: "wilhelm",
                    data: wilhelm,
                    ownVolume: 0.7
                },
                {
                    name: "underwater",
                    data: underwater,
                    fadeIn: 1,
                    loop: 1
                },
                {
                    name: "splash1",
                    data: splash1,
                    ownVolume: 0.3
                },
                {
                    name: "splash2",
                    data: splash2,
                    ownVolume: 0.3
                },
                {
                    name: "egg1",
                    data: egg1
                },
                {
                    name: "egg2",
                    data: egg2,
                }
            ];
            let Songs = [
                {
                    name: "dark1",
                    data: dark1,
                    onLoad: function(){
                        // this.play();
                    }
                },
                {
                    name: "dark2",
                    data: dark2,
                    onLoad: function(){
                        // this.play();
                    }
                },
                {
                    name: "dark3",
                    data: dark3,
                    onLoad: function(){
                        //this.play();
                    }
                },
                {
                    name: "dark4",
                    data: dark4,
                    onLoad: function(){
                        //this.play();
                    }
                },
                {
                    name: "happy1",
                    data: happy1,
                    fadeIn: 1,
                    fadeDuration: 5,
                    ownVolume: 0.5,
                    onLoad: function(){
                        // this.play();
                    }
                },
                {
                    name: "happy2",
                    data: happy2,
                    ownVolume: 0.5,
                    onLoad: function(){
                        // this.play();
                    }
                }
            ];
            
            for(let i = 0; i < Sounds.length; i++){
                sounds[Sounds[i].name] = new Base64Sound(Sounds[i].data, Sounds[i]);
            }
            for(let i = 0; i < Songs.length; i++){
                songs[Songs[i].name] = new Base64Sound(Songs[i].data, Songs[i]);
            }

        }

        function stopAllSounds(){
            for(let sound in sounds){
                sounds[sound].stop();
            }
        }
        function stopAllSongs(){
            for(let song in songs){
                songs[song].stop();
            }
        }
        function stopAllAudio(){
            stopAllSounds();
            stopAllSongs();
        }
        stopAllAudio();
        
        //link game sounds
        /*
        for(let i = 1; i <= 7; i++){
            let s = songs["gameplay"+(i !== 1 ? i : "")];
            s.n = ((i+1) % 8);
            s.onEnd = function(){
                songs["gameplay"+(this.n ? this.n : "")].play();
            };
        }*/
    
    </script>

    <!--Loader-->
    <script type>
        document.addEventListener("DOMContentLoaded", () => {

            const progressBar = document.getElementById("progress-bar");

            function updateProgress(percentage) {
                progressBar.style.width = percentage + "%";
            }

            let totalResources = 0;
            let loadedResources = 0;

            function resourceLoaded() {
                loadedResources++;
                const percentLoaded = Math.round((loadedResources / totalResources) * 100);
                updateProgress(percentLoaded);
            }

            // Find all resources to be loaded
            const resources = document.querySelectorAll("img, script, link[rel='stylesheet']");
            totalResources = resources.length-8;

            resources.forEach(resource => {
                if (resource.complete) {
                    resourceLoaded();
                } else {
                    resource.addEventListener("load", resourceLoaded);
                    resource.addEventListener("error", resourceLoaded); // in case of loading error
                }
            });

        });
    </script>
    
    <!--Main-->
    <script type="application/javascript">function program(){

/**
 * 
 * toDo:
 * - Missions
 * - Colorable blocks
 * 
 * - Dialogue
 * 
 * - Fix player class:
 *     washed out state
 *     reset method
 *     award methods
 *     rainbow state
 * 
 * -bugs:
 *     Fix bird hatch with rottweiler bug
 *     Arrow goes away after level complete
 *     Kill player bug
 * 
 * -graphics:
 *     Paint pread animation
 * 
 * -block:
 *     fix decay transition
 * 
 * - rid the program of var
 * - NPC's that cause missions & interactivity
 * - Color light based off of player, and contain light in player class
 * - Built-in level creator with moving action
 * - arrow pointing to nearest un-colored (unless there is none)
 * 
 **/

/** Predefs **/
// [

smooth();
size(600, 600);

let Delag = !true;

let entities = [],
    player,
    keys = {},
    levelW = 0,
    levelH = 0;

// Constants
const blockW = 40,
    blockH = 40,
    GRAVITY = Math.PI/10,
    PADDING_Y = height * 2, // Padding around the y axis of a level
    PADDING_X = width * 2, // Padding around the x axis of a level
    MAX_DIST = 40; // Maximum distance for the player's pathfinder to check

// ]

/** Camera **/
// [

let cam = {
    x: 0,
    y: 0,
    scale: 1,
    speed: 20,
    moveTo: function(obj) {
        this.x += ((obj.x+obj.w/2)-this.x-(width/(2*this.scale)))/this.speed;
        this.y += ((obj.y+obj.h/2)-this.y-(height/(2*this.scale)))/this.speed;
    }
};
window.cam = cam;

// ]

/** Functions **/
// [

// Screen size adjustments
function tx(x){
    // Coded on 600 width, but it works on anything
    return (x/600)*width;
}
function ty(y) {
    // Coded on 600 height, but it works on anything
    return (y/600)*height;
}
function T(t) {
    // Minimum squashing
    return (t/600)*min(width, height);
}
function Dist(d1, d2){
    return ((d1-d2)||1);
}
function easeOut(d1, d2, speed){
    return Dist(d1, d2)/speed;
}

// Delete this ???
function Rect(x, y, w, h, r) {
    rect(tx(x), ty(y), tx(w), ty(h), r);
}
function Ellipse(x, y, w, h, r) {
    ellipse(tx(x), ty(y), tx(w), ty(h));
}
function Line(x, y, w, h, r) {
    line(tx(x), ty(y), tx(w), ty(h));
}
function Text(t, x, y) {
    text(t, tx(x), ty(y));
}
function Translate(x, y) {
    translate(tx(x), ty(y));
}

// To grid
function toGrid(x, y, w = 0, h = 0) {
    return {
        x: min(max(floor((x + (w / 2) + PADDING_X) / blockW), 0), blocks[0].length-1),
        y: min(max(floor((y + (h / 2) + PADDING_Y) / blockH), 0), blocks.length-1)
    };
}
function collide(p1, p2) {
    return p1.x + p1.w > p2.x && p2.x + p2.w > p1.x && p1.y + p1.h > p2.y && p2.y + p2.h > p1.y;
}

// Random color
function randomColor() {
    return color(random(0, 255), random(0, 255), random(0, 255));
}

// ]

/** Mouse **/
// [

var mouse = {

    // Store mouse Status
    clicked: false,
    pressed: false, // Same as clicked
    released: false,

    // Mouse coordinates (not very useful lol)
    x: mouseX,
    y: mouseY,

    // Release the mouse
    release: function() {

        this.clicked = false;
        this.pressed = false;
        this.released = true;

    },

    // Use the mouse (for some action)
    use: function() {

        this.clicked = false;
        this.pressed = false;
        this.released = true;

    },

    // Update the mouse (call at the end of the draw loop)
    update: function() {

        this.x = mouseX;
        this.y = mouseY;
        this.released = false;

    },

    // Press the mouse
    press: function() {
        this.clicked = true;
        this.pressed = true;
    }

};

// ]

/** Art **/
// [

// Define art
const colors = {
    // - : white, . : black, numbers 0-9 shades of gray
    "-": color(-1, 0),
    "0": color(231),
    "1": color(207.9),
    "2": color(184.8),
    "3": color(161.7),
    "4": color(138.6),
    "5": color(115.5),
    "6": color(92.4),
    "7": color(69.3),
    "8": color(46.2),
    "9": color(23.1),
    ".": color(0),
    // p : pink, P : purple
    "p": color(200, 50, 200),
    "P": color(200/1.3, 50/1.3, 200/1.3),
    // y : yellow
    "y": color(220, 220, 50),
    "Y": color(220/1.15, 220/1.15, 50/1.15),
    // g : green, G : dark green
    "g": color(50, 200, 50),
    "G": color(0, 150, 0),
    // b : brown, B : dark brown
    "b": color(100, 50, 0),
    "B": color(70, 40, 0),
    // o : orange
    "o": color(255, 255/2, 0),
    "O": color(255/1.15, (255/2)/1.15, 0),
    // r : red
    "r": color(255, 0, 0),
    "R": color(255/1.15, 0, 0),
    // u : blue
    "u": color(50, 50, 200),
    "U": color(50/1.15, 50/1.15, 200/1.15),
};
const art = {
    
    grassBlock: [
        "GGGGGGGGGGGGGGGG",
        "GGGGGGGGGGGGGGGG",
        "GGGGGGGbGGGGGGGG",
        "GGGGbGGbGGGGbGbb",
        "GbGGbbbbGGbbbbbb",
        "bbGbbbbbbGbbbbbb",
        "bbbbbBBbbBBbbbBB",
        "bbbbBBbbBBbBBbBB",
        "bbBbbBbBbbBBBbbB",
        "bBBbbbbBBbbbbbbb",
        "bbbbbBbbbbBBbBBb",
        "bBBBbBBBbBBbBBBb",
        "bBBbbBBbbbbbbbbb",
        "bbbbBbbbBBBbbBbb",
        "BbbBBBbbbBBbbBBb",
        "BBbbBBbbbbbbbbbb"
    ],
    grayGrassBlock: [
        "6666666666666666",
        "6666666666666666",
        "6666666566666666",
        "6666566566665655",
        "6566555566555555",
        "5565555556555555",
        "5555566556655566",
        "5555665566566566",
        "5565565655666556",
        "5665555665555555",
        "5555565555665665",
        "5666566656656665",
        "5665566555555555",
        "5555655566655655",
        "6556665556655665",
        "6655665555555555"
    ],
    grass: [
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "-------G--------",
        "-------G----G---",
        "------G-----G-G-",
        "--G---G----G--G-",
        "--G---G----G---G",
        "-G---GG---GG---G",
        "GG-GGGGGG-GGG-GG"
    ],
    grayGrass: [
        
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------6--------",
            "-------6----6---",
            "------G-----G-G-",
            "--G---G----G--G-",
            "--G---G----G---G",
            "-G---GG---GG---G",
            "GG-GGGGGG-GGG-GG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------6--------",
            "-------6----6---",
            "------6-----6-6-",
            "--G---G----G--G-",
            "--G---G----G---G",
            "-G---GG---GG---G",
            "GG-GGGGGG-GGG-GG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------5--------",
            "-------6----5---",
            "------6-----6-5-",
            "--6---6----6--6-",
            "--G---G----G---G",
            "-G---GG---GG---G",
            "GG-GGGGGG-GGG-GG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------5--------",
            "------6-----5---",
            "--5---6----6--5-",
            "--6---6----6---6",
            "-G---GG---GG---G",
            "GG-GGGGGG-GGG-GG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "------5---------",
            "------6----5----",
            "--5---6----6---5",
            "-6---66---66---6",
            "GG-GGGGGG-GGG-GG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "------5---------",
            "------6----5----",
            "-5---66---56---6",
            "66-666666-666-66"
        ],

        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "------6---------",
            "-----66----6---6",
            "66-666666-666-66"
        ],
        
        
    ],
    flowerGrass: [
        "----------------",
        "----------------",
        "----------------",
        "--r-------------",
        "-ror-----r--r---",
        "G-r--r--rorror--",
        "-G--ror--rG--ror",
        "rG-r-r--r--G--r-",
        "orror-Gror-G-G--",
        "-G-r--G-G--GG-r-",
        "--G---G--G--Gror",
        "--G---G---G-GGr-",
        "--G--G---G--G---",
        "-GG--G-G-G--GG--",
        "-GGG-GGGGGG-GGG-",
        "GGGGGGGGGGGGGGGG"
    ],
    grayFlowerGrass: [
        [
            "----------------",
            "----------------",
            "----------------",
            "--r-------------",
            "-ror-----r--r---",
            "6-r--r--rorror--",
            "-G--ror--r6--ror",
            "-G-r-r--r--G--r-",
            "orror-Gror-G-G--",
            "-G-r--G-G--GG-r-",
            "--G---G--G--Gror",
            "--G---G---G-GGr-",
            "--G--G---G--G---",
            "-GG--G-G-G--GG--",
            "-GGG-GGGGGG-GGG-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "--r-------------",
            "-ror-----r--r---",
            "6-r--r--rorrorr-",
            "-6--ror--r6--ror",
            "-G-r-r--r--6--r-",
            "GG-or-Gror-G-G--",
            "-G-G--G-G--GG-r-",
            "--G---G--G--Gror",
            "--G---G---G-GG--",
            "--G--G---G--G---",
            "-GG--G-G-G--GG--",
            "-GGG-GGGGGG-GGG-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "--r-------------",
            "-ror-----r--r---",
            "6----r--rorrorr-",
            "-6---or--r6-r-or",
            "-6---r--r--6--r-",
            "66-o--6-or-6-6--",
            "-G-G--G-G--GG-r-",
            "--G---G--G--Gro-",
            "--G---G---G-GG--",
            "--G--G---G--G---",
            "-GG--G-G-G--GG--",
            "-GGG-GGGGGG-GGG-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "--r-------------",
            "--or-----r--r---",
            "6----r--ro-ro---",
            "-6---o----6---or",
            "-6---r-----6--r-",
            "66-o--6-o--6-6--",
            "-6-6--6-6--66---",
            "--G---G--G--G-o-",
            "--G---G---G-GG--",
            "--G--G---G--G---",
            "-GG--G-G-G--GG--",
            "-GGG-GGGGGG-GGG-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--o-------------",
            "6-6------o--o---",
            "-6---o----6-6-o-",
            "-6---6-----6--6-",
            "66-6--6-5--6-6--",
            "-6-6--6-6--66---",
            "-6-6--6--6--6-6-",
            "--G---G---G-GG--",
            "--G--G---G--G---",
            "-GG--G-G-G--GG--",
            "-GGG-GGGGGG-GGG-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--5-------------",
            "5-6------5--5---",
            "-6---5----6-6-5-",
            "-6---6-----6--6-",
            "66-6--6-5--6-6--",
            "-6-6--6-6--66---",
            "-6-6--6--6--6-6-",
            "--6---6---6-66--",
            "--G--G---G--G---",
            "-GG--G-G-G--GG--",
            "-GGG-GGGGGG-GGG-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--5-------------",
            "-6--------5-5---",
            "-6---5-----6--5-",
            "56-5--6----6-6--",
            "-6-6--6-5--66---",
            "-6-6--6--6--6-5-",
            "--6---6---6-66--",
            "--6--6---6--6---",
            "-GG--G-6-G--GG--",
            "-GGG-GGG6GG-GGG-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-5--------------",
            "-6---------5----",
            "-6----5----6-5--",
            "-6-5--6----66---",
            "-6-5--6--5--6---",
            "--6---6---6-65--",
            "--6--6---6--6---",
            "-66--6-5-6--66--",
            "-GG6-GG65GG-GG6-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-5--------------",
            "-6---------6----",
            "-6----5----65---",
            "-6----6-----6---",
            "--6---6---6-6---",
            "--6--6---6--6---",
            "-66--6---6--65--",
            "-665-665-66-665-",
            "GGGGGGGGGGGGGGGG"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-5---------5----",
            "-6---------6----",
            "-6----5-----6---",
            "--6---6---6-6---",
            "--6--6---6--6---",
            "-66--6---6--6---",
            "-66--66--66-66--",
            "6665666566656666"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-6---------6----",
            "-6----------6---",
            "--6---6---6-6---",
            "--6--6---6--6---",
            "-66--6---6--6---",
            "-66--66--66-66--",
            "666-666-666-6666"
        ]
    ],
    dirt: [
        "BbbbbbbbbbbBBBbb",
        "BBbbBbbBBBbbBBbb",
        "bbbBBbbBBbbbbbbb",
        "BBbbbBBbbbbBBbbb",
        "BBBbBBBbbBbbBBbb",
        "BBbbbbbbbBBBbbbB",
        "bbbbbBBbbBBbbbBB",
        "bbbbBBbbBBbBBbBB",
        "bbBbbBbBbbBBBbbB",
        "bBBbbbbBBbbbbbbb",
        "bbbbbBbbbbBBbBBb",
        "bBBBbBBBbBBbBBBb",
        "bBBbbBBbbbbbbbbb",
        "bbbbBbbbBBBbbBbb",
        "BbbBBBbbbBBbbBBb",
        "BBbbBBbbbbbbbbbb"
    ],
    grayDirt: [
        "6555555555566655",
        "6655655666556655",
        "5556655665555555",
        "6655566555566555",
        "6665666556556655",
        "6655555556665556",
        "5555566556655566",
        "5555665566566566",
        "5565565655666556",
        "5665555665555555",
        "5555565555665665",
        "5666566656656665",
        "5665566555555555",
        "5555655566655655",
        "6556665556655665",
        "6655665555555555"
    ],
    stone: [
        "666b6666bbbbb666",
        "6666b666b6bb6666",
        "bb66b666b66b6666",
        "bbbbb666b66bbb6b",
        "6666b66bbb666bbb",
        "6666bbbb6b666bb6",
        "66b66b666bbbbb66",
        "6bbb6bb6666b6666",
        "bb6bbb66666b666b",
        "b6666b66666bbbbb",
        "66666bb66bbb6666",
        "666666b66b6bb666",
        "bb666bbbbb66bbbb",
        "bbb6bb6bb666bbbb",
        "66bbb666b666bb66",
        "66bb6666bbbbb666"
    ],
    grayStone: [
        "6665666655555666",
        "6666566656556666",
        "5566566656656666",
        "5555566656655565",
        "6666566555666555",
        "6666555565666556",
        "6656656665555566",
        "6555655666656666",
        "5565556666656665",
        "5666656666655555",
        "6666655665556666",
        "6666665665655666",
        "5566655555665555",
        "5556556556665555",
        "6655566656665566",
        "6655666655555666"
    ],
    ore: [
        "77BB7777BBBBB777",
        "777B777B777BBBB7",
        "7BBB77BB77BB77BB",
        "B77B7777BB7B77BB",
        "777BB777777BB777",
        "77BB7777BBBBB777",
        "77B777BB7777BB77",
        "77B777B77777BB77",
        "BBBBBBB7777777B7",
        "BB7777BBB77777BB",
        "77777777BBB777B7",
        "777BBB77BB7777B7",
        "BB7777BB77777BBB",
        "B777777BB7777B7B",
        "77777777BB77BB77",
        "777B7777BBBBB777"
    ],
    grayOre: [
        "7766777766666777",
        "7776777677766667",
        "7666776677667766",
        "6776777766767766",
        "7776677777766777",
        "7766777766666777",
        "7767776677776677",
        "7767776777776677",
        "6666666777777767",
        "6677776667777766",
        "7777777766677767",
        "7776667766777767",
        "6677776677777666",
        "6777777667777676",
        "7777777766776677",
        "7776777766666777"
    ],
    flower: [
        "---------P------",
        "-----PP-PpP-PP--",
        "----PppPpppPppP-",
        "-----PpppypppP--",
        "------PPpppPP---",
        "-----PppPPPppP--",
        "----PppP-g-PppP-",
        "-----PP--g--PP--",
        "---------g------",
        "----------g-----",
        "----------g-----",
        "----------g-----",
        "---------g------",
        "---------g----G-",
        "-G-G---G-g-G-GG-",
        "GGGGG-GGGGGGGGGG"
    ],
    grayFlower: [
        [
            "---------p------",
            "---------p------",
            "----PP--PpP-PP--",
            "----ppPPppPPppP-",
            "----PPpppyppPP--",
            "-----PPpppppPP--",
            "-----PpP-g-Ppp--",
            "------P--g-P----",
            "---------g------",
            "----------g-----",
            "----------g-----",
            "----------g-----",
            "---------g------",
            "---------g----6-",
            "-6-G---G-g-G-g6-",
            "666gg-gGGGGGGgg6"
        ],
        [
            "----------------",
            "----------------",
            "--------PP------",
            "------PPppPP----",
            "-----PppppppPP--",
            "-----PPpppppPP--",
            "------PPPgPP----",
            "------P--g-P----",
            "---------g------",
            "----------g-----",
            "----------g-----",
            "----------g-----",
            "---------g------",
            "---------g----6-",
            "-6-5---6-g-6-66-",
            "66665-66gggg6656"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----PPPPP------",
            "-----PppppP-----",
            "---PPpppPgP-----",
            "--PPpppP-gP-----",
            "-----PPP-g------",
            "----------g-----",
            "----------g-----",
            "----------g-----",
            "---------5------",
            "---------5----6-",
            "-6-5---6-5-6-66-",
            "66665-6666656656"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----PPP--------",
            "-----PppP-------",
            "---PPpPggg------",
            "--PppppP-5------",
            "--P-pppP-5------",
            "-----P-P--5-----",
            "-----P-P--5-----",
            "----------5-----",
            "---------5------",
            "---------5----6-",
            "-6-5---6-5-6-66-",
            "66665-6666656656"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----PP----------",
            "--PPP7555-------",
            "-Pppp77--5------",
            "-P-ppP---5------",
            "---PP-----5-----",
            "----P-----5-----",
            "----------5-----",
            "---------5------",
            "---------5----6-",
            "-6-5---6-5-6-66-",
            "66665-6666656656"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----75555-------",
            "--7777---5------",
            "-PppP7---5------",
            "-P-P------5-----",
            "---P------5-----",
            "----------5-----",
            "---------5------",
            "---------5----6-",
            "-6-5---6-5-6-66-",
            "66665-6666656656"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----55555-------",
            "--76-----5------",
            "-6777----5------",
            "-7p77-----5-----",
            "-7-7------5-----",
            "--67------5-----",
            "---------5------",
            "---------5----6-",
            "-6-5---6-5-6-66-",
            "66665-6666656656"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "------555-------",
            "----55---5------",
            "--76-----5------",
            "-6777-----5-----",
            "-7777-----5-----",
            "-77-------5----",
            "--67-----5------",
            "---------5----6-",
            "-6-6---6-5-6-66-",
            "66665-6666656656"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------55-------",
            "------5--5------",
            "-----5---5------",
            "---76-----5-----",
            "--6777----5-----",
            "--7777----5-----",
            "--77-----5------",
            "---67----5----6-",
            "-------6-5-6-66-",
            "66665-6666656656"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------65-------",
            "------6--6------",
            "-----6----6-----",
            "---76-----5-----",
            "--6777----6-----",
            "-77777---6------",
            "--77-----5----6-",
            "--7----6-6-6-66-",
            "66666-6666666666"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------5-------",
            "-------5-6------",
            "-------6--6-----",
            "------5---5-----",
            "---576----6-----",
            "--5777---6------",
            "-7777----5----6-",
            "-57----6-6-6-66-",
            "66666-6666666666"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------56------",
            "-------6--6-----",
            "------5---5-----",
            "------6---6-----",
            "---576---6------",
            "--5777---5----6-",
            "57777--6-6-6-66-",
            "6666666666666666"
        ]
    ],
    air: [
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------"
    ],
    redPool: [
        [
            "rrrrrrrrrrrrrrrr",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrRRRRRrrrrrRRR",
            "RRRrrrrrRRRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "rrrrrrrrrrrrrrrr",
            "rrrRRRRRrrrrrRRR",
            "RRRrrrrrRRRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrRRRrrrRRRRR",
            "RRRRRrrrRRRrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrRRRRRrrrrrRRR",
            "RRRrrrrrRRRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "rrrrrrrrrrrrrrrr",
            "rrrrrRRRrrrRRRRR",
            "RRRRRrrrRRRrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrRRRrrrRRRRR",
            "RRRRRrrrRRRrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRrrrrrRRRRRrrr",
            "rrrRRRRRrrrrrRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "rrrrrrrrrrrrrrrr",
            "RRRrrrrrRRRRRrrr",
            "rrrRRRRRrrrrrRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRrrrRRRrrrrr",
            "rrrrrRRRrrrRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRrrrrrRRRRRrrr",
            "rrrRRRRRrrrrrRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "rrrrrrrrrrrrrrrr",
            "RRRRRrrrRRRrrrrr",
            "rrrrrRRRrrrRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRrrrRRRrrrrr",
            "rrrrrRRRrrrRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "rrrrrrrrrrrrrrrr",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrRRRrrrrrrrrrr",
            "RRRrrrRRrrrrrrrr",
            "rrrrrrrrRRrrrRRR",
            "rrrrrrrrrrRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ]
    ],
    redPoolTop: [
        [
            "----------------",
            "---RRRRR-----RRR",
            "RRRrrrrrRRRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrRRRRRrrrrrRRR",
            "RRRrrrrrRRRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "----------------",
            "-----RRR---RRRRR",
            "RRRRRrrrRRRrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrRRRRRrrrrrRRR",
            "RRRrrrrrRRRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrRRRrrrRRRRR",
            "RRRRRrrrRRRrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "----------------",
            "--------RRRRRRRR",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrRRRrrrRRRRR",
            "RRRRRrrrRRRrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "----------------",
            "RRR-----RRRRR---",
            "rrrRRRRRrrrrrRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRrrrrrRRRRRrrr",
            "rrrRRRRRrrrrrRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "----------------",
            "RRRRR---RRR-----",
            "rrrrrRRRrrrRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRrrrrrRRRRRrrr",
            "rrrRRRRRrrrrrRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRrrrRRRrrrrr",
            "rrrrrRRRrrrRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "----------------",
            "RRRRRRRR--------",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRrrrRRRrrrrr",
            "rrrrrRRRrrrRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ],
        [
            "---RRR----------",
            "RRRrrrRR--------",
            "rrrrrrrrRR---RRR",
            "rrrrrrrrrrRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "RRRRRRRRrrrrrrrr",
            "rrrrrrrrRRRRRRRR",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrRRRrrrrrrrrrr",
            "RRRrrrRRrrrrrrrr",
            "rrrrrrrrRRrrrRRR",
            "rrrrrrrrrrRRRrrr",
            "rrrrrrrrrrrrrrrr",
            "rrrrrrrrrrrrrrrr"
        ]
    ],
    bird: [
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "----------------",
        "--------------2-",
        "-23-----3----332",
        "3343---233--4342"
    ],
    grayBird: [
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------BB-----",
            "--------Bb.B.---",
            "-------BbbbB..--",
            "--BBBBOObbbB----",
            "---BOOOOObB-----",
            "---OOObbbB------",
            "-----BBBB-------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "---5------------",
            "-5-----------7--",
            "---------------7",
            "5--------------7",
            "---------BB-----",
            "--------Bb.B.---",
            "5------BbbbB..--",
            "6-BBBBOObbbB----",
            "5--BOOOOObB-----",
            "---OOObbbB------",
            "-----BBBB-------",
            "---------------6",
            "--------------5-",
            "5---------------",
            "6-------------5-",
            "-6--5---55---5--",
        ],
        [
            "----------------",
            "-667-------676--",
            "64-----------576",
            "6--------------6",
            "---------BB-----",
            "--------Bb.B.---",
            "7------BbbbB..--",
            "6-BBBBOObbbB----",
            "7--BOOOOObB-----",
            "---OOObbbB------",
            "-----BBBB-------",
            "--------------76",
            "6-------------6-",
            "7------------47-",
            "764---------76--",
            "-6646---76------",
        ],
        [
            "----66----------",
            "--775557--5566--",
            "--676------5655-",
            "-667---------665",
            "-76-----------55",
            "-76------------8",
            "--------BB.B----",
            "------BBbbbB.---",
            "--BOOOOObbBB..--",
            "-BBOOOOObbB-----",
            "---BOObbbBB---8-",
            "6---BBBBB-----67",
            "58----------7566",
            "-655------56675-",
            "-6665----66667--",
            "6-575-----76---",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----765---76----",
            "---677-6--676---",
            "--56-------76---",
            "-------BBb--67--",
            "------Bb.bB.-5--",
            "-BOOOOObbbbB.6--",
            "--OoooObbbbB----",
            "--BbOOObbbbB----",
            "-6-BbbbbbBB-6---",
            "-7--BBBBB--67---",
            "-6---------55---",
            "-755------67----",
            "--7565--766-----",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "---------77-----",
            "----7878-878----",
            "--787867-6877---",
            "--868------887--",
            "--7-BBBBBB--68--",
            "---BbBbbbB---7--",
            "---OOOOOBbB-----",
            "---OOOObbbB-----",
            "-7-BbbbBbB-67---",
            "-78--BBBB--68---",
            "-8778----6887---",
            "--786---68878---",
            "---887--8777----",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----877-87-----",
            "---87867-687----",
            "--86868--8688---",
            "--76866BB-6668--",
            "--78-BbbbB-687--",
            "----BoObbbB-----",
            "----BOobbbB7----",
            "--76-BbbbB-67---",
            "--8868BBB6868---",
            "--7786--86887---",
            "---768--68878---",
            "---887--877-----",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----77-77------",
            "----868-867-----",
            "----786-6887----",
            "----866B8667----",
            "----868b8687----",
            "-----BbBBB------",
            "---7668bb687----",
            "---8786B867-----",
            "----866-687-----",
            "----786-87------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------87-------",
            "------8578------",
            "-----685878-----",
            "-----858687-----",
            "----86565688----",
            "----68685867----",
            "----85868587----",
            "----68566878----",
            "-----685878-----",
            "------6878------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------77-------",
            "------8578------",
            "-----685877-----",
            "-----858687-----",
            "----66565688----",
            "----65685867----",
            "----85865567----",
            "----68566878----",
            "-----685878-----",
            "------6877------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------77-------",
            "------8577------",
            "-----685877-----",
            "-----858687-----",
            "----66565688----",
            "----65665867----",
            "----85865567----",
            "----68566878----",
            "-----655878-----",
            "------6677------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------77-------",
            "------8577------",
            "-----685677-----",
            "-----656687-----",
            "----66565687----",
            "----65665867----",
            "----85665567----",
            "----68566877----",
            "-----655678-----",
            "------6677------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------77-------",
            "------8577------",
            "-----665677-----",
            "-----656667-----",
            "----66565687----",
            "----65665567----",
            "----85665567----",
            "----66566577----",
            "-----655678-----",
            "------6677------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------77-------",
            "------6577------",
            "-----665677-----",
            "-----656667-----",
            "----66565677----",
            "----65665567----",
            "----65665567----",
            "----66566577----",
            "-----655677-----",
            "------6677------",
        ],
    ],
    bug: [
        [
            "-------.U.------",
            "-------UUU------",
            "----.--UU--.----",
            "-----.UUUU.-----",
            "------UUUU------",
            "------UUUU------",
            "------.UU.------",
            "------.--.------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------", 
        ],
        [
            "----------------",
            "-------.U.------",
            "-------UUU------",
            "------.UUU.-----",
            "------UUUU------",
            "------UUUU------",
            "------UUU.------",
            "------.---------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "----------------",
            "--------U-------",
            "-------UU-------",
            "-------UU-------",
            "------UUU.------",
            "------UUUU------",
            "------.UUU------",
            "-------UU-------",
            "-------U--------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "-------U--------",
            "-------UU-------",
            "-------UU-------",
            "-------UUU------",
            "-------UUU------",
            "------UUU-------",
            "------UUU-------",
            "-------UU-------",
            "-------UU-------",
            "--------U-------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------U--------",
            "-------UU-------",
            "-------UU-------",
            "------UUU-------",
            "------UUU-------",
            "------UUU-------",
            "-----UUUUU------",
            "-----UUUUU------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "------UUU-------",
            "-----UUUUU------",
            "-----UUUUU------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----UUUUU------",
            "---UUUUUUUUU----",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----UUUUU------",
            "---UUUUUUUUU----",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "------UUU-------",
            "-----UUUUU------",
            "-----UUUUU------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------U--------",
            "-------UU-------",
            "-------UU-------",
            "------UUU-------",
            "------UUU-------",
            "------UUU-------",
            "-----UUUUU------",
            "-----UUUUU------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "-------U--------",
            "-------UU-------",
            "-------UU-------",
            "-------UUU------",
            "-------UUU------",
            "------UUU-------",
            "------UUU-------",
            "-------UU-------",
            "-------UU-------",
            "--------U-------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "----------------",
            "--------U-------",
            "-------UU-------",
            "-------UU-------",
            "------UUU.------",
            "------UUUU------",
            "------.UUU------",
            "-------UU-------",
            "-------U--------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "-------.U.------",
            "-------UUU------",
            "------.UUU.-----",
            "------UUUU------",
            "------UUUU------",
            "------UUU.------",
            "------.---------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "-------.U.------",
            "-------UUU------",
            "-------UU-------",
            "-----.UUUU.-----",
            "-----.UUUU.-----",
            "------UUUU------",
            "------.UU.------",
            "------.--.------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------", 
        ],
        [
            "-------.U.------",
            "-------UUU------",
            "-------UU-------",
            "-----.UUUU.----",
            "----.-UUUU-.----",
            "------UUUU------",
            "------.UU.------",
            "------.--.------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------", 
        ],
        [
            "-------.U.------",
            "-------UUU------",
            "-------UU-------",
            "----..UUUU..----",
            "------UUUU------",
            "------UUUU------",
            "------.UU.------",
            "------.--.------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------", 
        ],
    ],
    grayBug: [
        [
            "-------.U.------",
            "----.--UUU-.----",
            "-----.-UU-.-----",
            "------UUUU------",
            "------UUUU------",
            "------UUUU------",
            "-----.-UU-.-----",
            "----.------.----",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------"
        ],
        [
            "-------.U.------",
            "----.--UUU-.----",
            "-----.-UU-.-----",
            "------UUUU------",
            "------UUUU------",
            "------UUU-------",
            "-----.-UU-------",
            "----.--.--------",
            "------.---------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------"
        ],
        [
            "-------.6.------",
            "-----.-6UU-.----",
            "------.UUU.-----",
            "------UUUU------",
            "-----UUUU-------",
            "----.U.U--------",
            "---.-.----------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------"
        ],
        [
            "----------------",
            "------66--------",
            "-----6UU6-------",
            "-----UUU--------",
            "-----UU---------",
            "----UU----------",
            "----U-----------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------"
        ],
        [
            "----------------",
            "----------------",
            "------U---------",
            "-----UU---------",
            "-----UU---------",
            "----UU----------",
            "----UU----------",
            "----UU----------",
            "----U-----------",
            "----U-----------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----6----------",
            "----66----------",
            "----66----------",
            "---6U-----------",
            "---UU-----------",
            "--UU------------",
            "--UU------------",
            "----------------"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----6----------",
            "----66----------",
            "---6U6----------",
            "--UUU6----------",
            "-UUUU-----------"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---868----------",
            "--66U66---------",
            "--UUUUU---------"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---868----------",
            "--66666---------",
            "666UUU666-------"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---868----------",
            "--66666---------",
            "666666666-------"
        ],
    ],
    grassGuy: [
        [
            "------------oo--",
            "-----------oyo--",
            "-----G-----oo---",
            "----GG--GG--g---",
            "---GGGGGGGGGGGG-",
            "---GGGbGGGbGGbG-",
            "---GbGbbGbbGbbG-",
            "---bb99bbGb99bb-",
            "---Bb99bbbb99bB-",
            "---BbbbbbbbbbbB-",
            "--BbbbbbbbbbbB--",
            "--Bb9bbbbbb9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "---BBBBBbbbbbB--",
            "--------BBBBBB--",
        ],
        [
            "----------------",
            "--------------oo",
            "------G---G--oyo",
            "----GGGGGGGG--o-",
            "---GGGGGGGGGGGg-",
            "---bG99bGGbbGGGG",
            "---Bb99bGbbbbGGG",
            "--Bbbbbbbbb99Gbb",
            "--Bbbbbbbbb99bbB",
            "--BbbbbbbbbbbbB-",
            "-Bbb9bbbbbbbbbB-",
            "-Bbb9bbbbbbbbbB-",
            "-Bbbb9bbbbbbbB--",
            "-Bbbbb99bbb9bB--",
            "--BBBBbb999bbB--",
            "------BBBbbbbB--",
        ],
        [
            "------------oo--",
            "-----------oyo--",
            "-----G-----oo---",
            "----GG--GG--g---",
            "---GGGGGGGGGGGG-",
            "---GGGbGGGbGGbG-",
            "---GbGbbGbbGbbG-",
            "---bb99bbGb99bb-",
            "---Bb99bbbb99bB-",
            "---BbbbbbbbbbbB-",
            "--BbbbbbbbbbbB--",
            "--Bb9bbbbbb9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
        [
            "-----------oo---",
            "----------oyo---",
            "----G-----oo----",
            "---GG--GG--g----",
            "--GGGGGGGGGGGG--",
            "--GGGbGGGbGGbG--",
            "--GbGbbGbbGbbG--",
            "--bb99bbGb99bb--",
            "--Bb99bbbb99bB--",
            "--BbbbbbbbbbbB--",
            "--BbbbbbbbbbbB--",
            "--Bb9bbbbbb9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
        [
            "----------oo----",
            "---------oyo----",
            "---G-----oo-----",
            "--GG--GG--g-----",
            "-GGGGGGGGGGGG---",
            "-GGGbGGGbGGbG---",
            "-GbGbbGbbGbbG---",
            "-bb99bbGb99bb---",
            "-Bb99bbbb99bB---",
            "-BbbbbbbbbbbB---",
            "--BbbbbbbbbbbB--",
            "--Bb9bbbbbb9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbBBBBB---",
            "--BBBBBB--",
        ],
        [
            "------oyo-------",
            "------oog-------",
            "-----G--GGGG----",
            "-G--GGGGGGGGG---",
            "-GGGGGGGbbGGG---",
            "GGGGbGGb99Gbb---",
            "GGGbbbGb99bbB---",
            "bbG99bbbbbbbbB--",
            "Bbb99bbbbbbbbB--",
            "-BbbbbbbbbbbbB--",
            "-Bbbbbbbbbb.bbB-",
            "-Bbbbbbbbbb.bbB-",
            "--Bbbbbbbb.bbbB-",
            "--Bb.bbb..bbbbB-",
            "--Bbb...bbBBBB--",
            "--BbbbbBBB------",
        ],
        [
            "----------oo----",
            "---------oyo----",
            "---G-----oo-----",
            "--GG--GG--g-----",
            "-GGGGGGGGGGGG---",
            "-GGGbGGGbGGbG---",
            "-GbGbbGbbGbbG---",
            "-bb99bbGb99bb---",
            "-Bb99bbbb99bB---",
            "-BbbbbbbbbbbB---",
            "-BbbbbbbbbbbB---",
            "--Bb9bbbbbb9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
        [
            "-----------oo---",
            "----------oyo---",
            "----G-----oo----",
            "---GG--GG--g----",
            "--GGGGGGGGGGGG--",
            "--GGGbGGGbGGbG--",
            "--GbGbbGbbGbbG--",
            "--bb99bbGb99bb--",
            "--Bb99bbbb99bB--",
            "--BbbbbbbbbbbB--",
            "--BbbbbbbbbbbB--",
            "--Bb9bbbbbb9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
    ],
    grayGrassGuy: [
        [
            "-----------oo---",
            "----------oyo---",
            "----------og----",
            "---GG--G---g----",
            "--666666666666--",
            "--GG65GG65G656--",
            "--GbGbbG55Gb5G--",
            "--bb99bbGb99bb--",
            "--Bb99bbbb99bB--",
            "--BbbbbbbbbbbB--",
            "--BbbbbbbbbbbB--",
            "--Bb9bbbbbb9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
        [
            "----------------",
            "-----------y----",
            "-----------g----",
            "----G--G---g----",
            "--666666666666--",
            "--666566656656--",
            "--G56556556556--",
            "--bb9855G5885b--",
            "--Bb99bbb589bB--",
            "--BbbbbbbbbbbB--",
            "--BbbbbbbbbbbB--",
            "--Bb9bbbbbb9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
        [
            "----------------",
            "----------------",
            "-----------g----",
            "-------G---g----",
            "--666666666666--",
            "--666566656656--",
            "--656556556556--",
            "--55885565885B--",
            "--Bb885555895B--",
            "--Bbb555555bbB--",
            "--Bbb5bb55bbbB--",
            "--Bb9bbbb5b9bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "-----------g----",
            "--666666666666--",
            "--666566656656--",
            "--656556556556--",
            "--658855658856--",
            "--65885555885B--",
            "--B555555555bB--",
            "--Bb55555555bB--",
            "--Bb9bb55559bB--",
            "--Bb9bbbbbb9bB--",
            "--Bbb999999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "-----------g----",
            "--666666666666--",
            "--666566656656--",
            "--656556556556--",
            "--658855658856--",
            "--658855558856--",
            "--655555555556--",
            "--65555555555B--",
            "--B5855555585B--",
            "--B59b5555585B--",
            "--Bbb989999bbB--",
            "--BbbbbbbbbbbB--",
            "--BBBBBBBBBBBB--",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--666666666666--",
            "--666566656656--",
            "--656556556556--",
            "--658855658856--",
            "--658855558856--",
            "--655555555556--",
            "--655555555556--",
            "--658555555856--",
            "--658555555856--",
            "--B5588889955B--",
            "--Bb55555bbbbB--",
            "--BBB66BBBBBBB--",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--666666666666--",
            "--666566656656--",
            "--656556556556--",
            "--658855658856--",
            "--658855558856--",
            "--655555555556--",
            "--655555555556--",
            "--658555555856--",
            "--658555555856--",
            "--655888888556--",
            "--655555555556--",
            "--666666666666--",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------66----",
            "-------666666---",
            "----666566656---",
            "--666665565556--",
            "-6665565558856--",
            "-6565555558856--",
            "--6588555555556-",
            "--6588555555556-",
            "--6555555555856-",
            "---6555555558556",
            "---6555555885556",
            "---658558855566-",
            "----658855666---",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------66----",
            "-------66666----",
            "-----66666566---",
            "--66666556556---",
            "6665566655856---",
            "66665565588856--",
            "-6558855588556--",
            "-65888555555556-",
            "-65585555555556-",
            "--6555555558856-",
            "--65555558855556",
            "---6555885555566",
            "---65885555666--",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "---------66-----",
            "-------66656----",
            "-----6665566----",
            "---6666665556---",
            "-666665558856---",
            "66655665588556--",
            "65655555555556--",
            "-65885555555556-",
            "-65885555555556-",
            "--65555555888856",
            "--65555588555556",
            "---655885555566-",
            "---6585555566---"
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------66-------",
            "------6556------",
            "-----666566-----",
            "----66555556----",
            "---6666588556---",
            "--665565885556--",
            "-66665555555556-",
            "6655555555588856",
            "6665885558855556",
            "-65588558555556-",
            "--655555855556--",
            "---6555855556---"
        ]
    ],
    doubleFlower: [
        "----------O-----",
        "----------YO----",
        "-O-O--Uu-OY--uU-",
        "--Y----Uu-O-uU--",
        "-OOY-U-UuuYuU---",
        "---YuU--UuuuU---",
        "-U-uuuU-UuuU----",
        "-UuuuuU-UuuU----",
        "--UUuuU-UUU-----",
        "----UU---g------",
        "----g----g------",
        "----g---g-------",
        "-----g--g-------",
        "-----g-g-----G--",
        "--GG-g-g-G--GG--",
        "GGGGGG-GGGGGGGGG",
    ],
    grayDoubleFlower: [
        [
            "----------O-----",
            "----------YO----",
            "-O-O--Uu-OY--uU-",
            "--Y----Uu-O-uU--",
            "-OOY-U-UuuYuU---",
            "---YuU--UuuuU---",
            "-U-uuuU-UuuU----",
            "-UuuuuU-UuuU----",
            "--UUuuU-UUU-----",
            "----UU---g------",
            "----g----g------",
            "----g---g-------",
            "-----g--g-------",
            "-----g-g-----G--",
            "--GG-g-g-G--GG--",
            "GGGGGG-GGGGGGGGG",
        ],
        [
            "----------------",
            "----------------",
            "------Uu--Y--u--",
            "--Y----Uu-Y-uU--",
            "--YY-U-UuuYuU---",
            "---YuU--UuuuU---",
            "-U-uuuU-UuuU----",
            "-UuuuuU-UuuU----",
            "--UUuuU-UUU-----",
            "----UU---5------",
            "----5----g------",
            "----g---g-------",
            "-----g--g-------",
            "-----g-g-----G--",
            "--GG-g-g-G--GG--",
            "GGGGGG-GGGGGGGGG",

        ],
        [
            "----------------",
            "----------------",
            "-------Uu-Y-----",
            "-------Uu-Y-uU--",
            "--Y----UuuYuU---",
            "---Y-U--UuuuU---",
            "-U-YuuU-UuuU----",
            "-UuuuuU-UuuU----",
            "--UUuuU--UUU----",
            "----UU----5-----",
            "----5----5------",
            "----5---5-------",
            "-----5--g-------",
            "-----g-g-----G--",
            "--GG-g-g-G--GG--",
            "GGGGGG-GGGGGGGGG",

        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "-------U--------",
            "-------Uuy-uU---",
            "-------UuuuuU---",
            "--yuU---UuuU----",
            "--uuU---UuU-----",
            "-UUuU---UUU-----",
            "---UU----5------",
            "----5----5------",
            "----5---5-------",
            "-----5--5-------",
            "-----6-6-----6--",
            "--G6-g-g-6--6G--",
            "GGGGGG-GGGGGGGGG",

        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----------U----",
            "----------UU----",
            "----U-----UUU---",
            "--UUU-----UUUUU-",
            "-UUUU----5Uuuu--",
            "---UU----5UU----",
            "----5----5------",
            "----5---5-------",
            "-----5--5-------",
            "-----6-6-----6--",
            "--66-5-5-6--66--",
            "G6G66G-GGG66GGGG",

        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------------77-",
            "---7------7UU7--",
            "-7-77----5Uuuuu-",
            "--UuU----5-UU777",
            "---U5----5------",
            "----5---5-------",
            "-----5--5-------",
            "-----6-6-----6--",
            "--66-5-5-6--66--",
            "666666-666666666",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------777---",
            "----------5Uu77-",
            "-7777-----57777-",
            "7-u75----6---7--",
            "--7-6---5-------",
            "-----5--5-------",
            "-----6-6-----6--",
            "--66-5-5-6--66--",
            "666666-666666666",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----------57---",
            "----------5777--",
            "--76-----6--777-",
            "-77-6---6----77-",
            "-77--5--5-------",
            "-7---6-6-----6--",
            "--66-5-6-6--66--",
            "666666-666666666",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------55----",
            "---------6-57---",
            "--756---6--7777-",
            "-77--5--5---7777",
            "-77--6-6-----6--",
            "-7---5-6-6--66--",
            "666666-666666666",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------666----",
            "--------6--67---",
            "---565--5--7777-",
            "--77-6-6----777-",
            "-777-5-6-6----7-",
            "666666-666666666",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------66-----",
            "--------6--6----",
            "----65--5--57---",
            "-675-6-6---7776-",
            "777--5-6----7777",
            "666666-666666666",
        ]
    ],
    leaves: [
        "-----P-Y-P------",
        "-------yy-------",
        "-----PyPYP------",
        "----R-YyY-R-----",
        "----OROrrRO-----",
        "-----RrrOR------",
        "-----RrORR------",
        "------RrR-------",
        "---GG-Rrr-GG----",
        "---GGgGGGGggG---",
        "--GGGggGGGGGGG--",
        "-GGG-GggGgG-GG--",
        "-GG--GgggG--GG--",
        "-G----GGG----G--",
        "-G-----GG----G--",
        "-------GG----G--",
    ],
    grayLeaves: [
        [
            "-----P-Y-P------",
            "-------yy-------",
            "-----PyPYP------",
            "----R-YyY-R-----",
            "----OROrrRO-----",
            "-----RrrOR------",
            "-----RrORR------",
            "------RrR-------",
            "---GG-Rrr-GG----",
            "---GGgGGGGggG---",
            "--GGGggGGGGGGG--",
            "-GGG-GggGgG-GG--",
            "-GG--GgggG--GG--",
            "-G----GGG----G--",
            "-G-----GG----G--",
            "-------GG----G--",
        ],
        [
            "-----P-Y-P------",
            "-------yy-------",
            "-----PyPYP------",
            "----R-YyY-R-----",
            "----OROrrRO-----",
            "-----RrrOR------",
            "-----RrORR------",
            "------RrR-------",
            "---GG-Rrr-GG----",
            "---GGgGGGGggG---",
            "--GGGggGGGGGGG--",
            "-GGG-GggGgG-GG--",
            "-GG--GgggG--GG--",
            "-G----GGG----G--",
            "-G-----G6----G--",
            "-------66----G--",
        ],
        [
            "----------------",
            "----------------",
            "-----P-y-P------",
            "----y-o-o-y-----",
            "-----oPrPY------",
            "----P-RrR-P-----",
            "-----orPRo------",
            "------RrR-------",
            "---GG-Rrr--GG---",
            "--GGGGGGGGGGGG--",
            "-GGGGGgGGgG-GGG-",
            "-GG--GggGgG--GG-",
            "-G---Ggg56---GG-",
            "-G----666-----G-",
            "-------66-----G-",
            "-------66-------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----R-R-R------",
            "------RRR-------",
            "-----RRrRR------",
            "------Rrr-------",
            "---GGGggggGGG---",
            "--GGGGggggGGGG--",
            "-GG--Gggg56--GG-",
            "-G---Gg5556--GG-",
            "-G---65556----G-",
            "------666-----G-",
            "-------66-------",
            "-------66-------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-------R--------",
            "-------RR-------",
            "------RrR-------",
            "----GGRrrGGG----",
            "---GGGggggGGGG--",
            "--G6-Gggg56-G6--",
            "-66--65g556--66-",
            "-6---655556---6-",
            "-6---65556----6-",
            "------666-------",
            "-------66-------",
            "-------66-------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----6--R--66----",
            "---666-RRG666---",
            "--66-GGggG--66--",
            "--6---Gg556--6--",
            "-----655556-----",
            "-----655556-----",
            "-----65556------",
            "------666-------",
            "-------66-------",
            "-------66-------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "-----66---66----",
            "----6-6g-6-66---",
            "------65g6------",
            "------65556-----",
            "-----655556-----",
            "-----655556-----",
            "-----65556------",
            "------666-------",
            "-------66-------",
            "-------66-------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "------6---6-----",
            "-------6-6------",
            "-------656------",
            "------6556------",
            "------65556-----",
            "-----655556-----",
            "-----655556-----",
            "-----65556------",
            "------666-------",
            "-------66-------",
            "-------66-------",

        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------66-------",
            "-------656------",
            "------6556------",
            "------65556-----",
            "-----655556-----",
            "-----655556-----",
            "-----65556------",
            "------666-------",
            "-------66-------",
            "-------66-------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------66-------",
            "-------656------",
            "------6556------",
            "------65556-----",
            "-----655556-----",
            "-----655556-----",
            "-----65556------",
            "------666-------",
            "-------66-------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------66-------",
            "-------656------",
            "------6556------",
            "------65556-----",
            "-----655556-----",
            "-----655556-----",
            "-----65556------",
            "------666-------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------65-------",
            "-------656------",
            "------6556------",
            "------65556-----",
            "-----655556-----",
            "-----655556-----",
            "-----65556------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------65-------",
            "-------656------",
            "------6556------",
            "------65556-----",
            "-----655556-----",
            "-----655556-----",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------65-------",
            "-------656------",
            "------6556------",
            "------65556-----",
            "-----655556-----",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------65-------",
            "-------656------",
            "------6556------",
            "------65556-----",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------65-------",
            "-------656------",
            "------6556------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------65-------",
            "-------656------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--------6-------",
            "-------65-------",
        ],
    ],
    stoneGuy: [
        [
            "-RR8------------",
            "R8RRR-----------",
            "R-3-R-----------",
            "--33--6b666b----",
            "--bb666b666bb---",
            "-66bbbb669bb6---",
            "-66666b666b66---",
            "-66696b66b6666--",
            "-666bbbbbb6966--",
            "-bbb66b66b6966--",
            "-b666b66669b66--",
            "-669bb6699bbbb--",
            "-666999966b66b--",
            "--66b66666b66---",
            "--6bb66666------",
            "---b66----------",
        ],
        [
            "----------------",
            "-9RR------------",
            "RRR9R-----------",
            "R-3-R--6666-----",
            "--3-66b6666b----",
            "-bb66bb696bb----",
            "66bbbb666b66----",
            "66696bb6bb666---",
            "666666bbb6666---",
            "66bbbbb66b9bbb--",
            "-bb666b666966b--",
            "-b696b6669b666--",
            "--66999996bb6---",
            "--666b66666-----",
            "--6bbb666-------",
            "---b666---------",
        ],
        [
            "----------------",
            "----------------",
            "R8----b666------",
            "RRR--bb6666-----",
            "83--66bb9bbb----",
            "R33b66b666666---",
            "-3bbbb666666bb--",
            "-6666b66666b966-",
            "-66966bbbbb6966-",
            "-bb666b66669b66-",
            "-bbbbbb666696bb-",
            "--6666b6669666--",
            "---6666b99666---",
            "----6699b666----",
            "-----6b6b66-----",
            "------b66b------",
        ],
        [
            "----------------",
            "----------------",
            "RR--6666--------",
            "83-b6666bb------",
            "R3-bb6666b6-----",
            "-366b9666b666---",
            "-b66b6666b6666--",
            "-bb6bb66bb69bb--",
            "66bbb6bbb6b96b--",
            "66b6666b666966--",
            "bbb966b66696b---",
            "bb6666b66966b---",
            "-6666bbb9666----",
            "---bbb99b66-----",
            "----6666b66-----",
            "------66bb------",
        ],
        [
            "----------------",
            "----------------",
            "R8----b666------",
            "RRR--bb6666-----",
            "83--66bb9bbb----",
            "R33b66b666666---",
            "-3bbbb666666bb--",
            "-6666b66666b966-",
            "-66966bbbbb6966-",
            "-bb666b66669b66-",
            "-bbbbbb666696bb-",
            "--6666b6669666--",
            "---6666b99666---",
            "----6699b666----",
            "-----6b6b66-----",
            "------b66b------",
        ],
        [
            "----------------",
            "-9RR------------",
            "RRR9R-----------",
            "R-3-R--6666-----",
            "--3-66b6666b----",
            "-bb66bb696bb----",
            "66bbbb666b66----",
            "66696bb6bb666---",
            "666666bbb6666---",
            "66bbbbb66b9bbb--",
            "-bb666b666966b--",
            "-b696b6669b666--",
            "--66999996bb6---",
            "--666b66666-----",
            "--6bbb666-------",
            "---b666---------",
        ],
        [
            "-RR8------------",
            "R8RRR-----------",
            "R-3-R-----------",
            "--33--6b666b----",
            "--bb666b666bb---",
            "-66bbbb669bb6---",
            "-66666b666b66---",
            "-66696b66b6666--",
            "-666bbbbbb6966--",
            "-bbb66b66b6966--",
            "-b666b66669b66--",
            "-669bb6699bbbb--",
            "-666999966b66b--",
            "--66b66666b66---",
            "--6bb66666------",
            "---b66----------",
        ],
        [
            "--RR8-----------",
            "-R8RRR----------",
            "-R-2-R----------",
            "---22-----------",
            "---666bb66bb6---",
            "--bb666bbbb666--",
            "--bb666bb66bbb--",
            "--6b696b669666--",
            "--6bb66b666666--",
            "--66b66b666666--",
            "--66bbbbbbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "----R8RR8-------",
            "----R-3-R-------",
            "-----33---------",
            "----b666b6------",
            "---bb666b666bb--",
            "---6bb966bbbb66-",
            "---66b666b66666-",
            "--6666b66b69666-",
            "--6696bbbbbb666-",
            "--6696b66b66bbb-",
            "--66b96666b666b-",
            "--bbbb9966bb966-",
            "--b66b669999666-",
            "---66b66666b66--",
            "------66666bb6--",
            "---------666b---",
        ],
        [
            "-----R9RR9------",
            "-----R-3-R------",
            "------33--------",
            "-----6666-------",
            "----b6666b66----",
            "----bb696bb66bb-",
            "----66b666bbbb66",
            "---666bb6bb69666",
            "---6666bbb666666",
            "--bbb9b66bbbbb66",
            "--b669666b666bb-",
            "--b66b9666b696b-",
            "---6bb69999966--",
            "-----66666b666--",
            "-------666bbb6--",
            "---------666b---",
        ],
        [
            "-----------R8R--",
            "------------RR8-",
            "------b6663338R-",
            "-----bb666b3-R--",
            "----66b696b6----",
            "---666b666b66---",
            "--666b6b66b66b--",
            "-b696b66b6bbbbb-",
            "-bb9b666bb66b6b-",
            "-66b9666b666966-",
            "-66b9666bbb66b6-",
            "--b66966b66b6b--",
            "---66699b66b6---",
            "----6666996b----",
            "-----666bb6-----",
            "------666b------",
        ],
        [
            "----------------",
            "-------------R8R",
            "--------6666--RR",
            "------bb6666b338",
            "-----6b6666bb3-R",
            "---666b6669b66--",
            "--6666b6666b66b-",
            "--bb96bb66bb6bb-",
            "--b69b6bbb6bbb66",
            "--669666b6666b66",
            "---b69666b669bbb",
            "---b66966b6666bb",
            "----6669bbb6666-",
            "-----66b99bbb---",
            "-----66b6666----",
            "------bb66------",
        ],
        [
            "-----------R8R--",
            "------------RR8-",
            "------b6663338R-",
            "-----bb666b3-R--",
            "----66b696b6----",
            "---666b666b66---",
            "--666b6b66b66b--",
            "-b696b66b6bbbbb-",
            "-bb9b666bb66b6b-",
            "-66b9666b666966-",
            "-66b9666bbb66b6-",
            "--b66966b66b6b--",
            "---66699b66b6---",
            "----6666996b----",
            "-----666bb6-----",
            "------666b------",
        ],
        [
            "-----R9RR9------",
            "-----R-3-R------",
            "------33--------",
            "-----6666-------",
            "----b6666b66----",
            "----bb696bb66bb-",
            "----66b666bbbb66",
            "---666bb6bb69666",
            "---6666bbb666666",
            "--bbb9b66bbbbb66",
            "--b669666b666bb-",
            "--666b9666b696b-",
            "---6bb69999966--",
            "-----66666b666--",
            "-------666bbb6--",
            "---------666b---",
        ],
        [
            "----R8RR8-------",
            "----R-3-R-------",
            "-----33---------",
            "----b666b6------",
            "---bb666b666bb--",
            "---6bb966bbbb66-",
            "---66b666b66666-",
            "--6666b66b69666-",
            "--6696bbbbbb666-",
            "--6696b66b66bbb-",
            "--66b96666b666b-",
            "--bbbb9966bb966-",
            "--b66b669999666-",
            "---66b66666b66--",
            "------66666bb6--",
            "----------66b---",
        ],
        [
            "--RR8-----------",
            "-R8RRR----------",
            "-R-2-R----------",
            "---22-----------",
            "---666bb66bb6---",
            "--bb666bbbb666--",
            "--bb666bb66bbb--",
            "--6b696b669666--",
            "--6bb66b666666--",
            "--66b66b666666--",
            "--66bbbbbbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
    ],
    grayStoneGuy: [
        [
            "--RR8-----------",
            "-R8RRR----------",
            "-R-2-R----------",
            "---22-----------",
            "---666bb66bb6---",
            "--bb666bbbb666--",
            "--bb666bb66bbb--",
            "--6b696b669666--",
            "--6bb66b666666--",
            "--66b66b666666--",
            "--66bbbbbbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "--RR8-----------",
            "-58RR5----------",
            "-6-2-5----------",
            "---22-----------",
            "---666bb66bb6---",
            "--bb666bbbb666--",
            "--bb666bb66bbb--",
            "--6b696b669666--",
            "--6bb66b666666--",
            "--66b66b666666--",
            "--66bbbbbbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "--556-----------",
            "-56R55----------",
            "-6-2-5----------",
            "---22-----------",
            "---666bb66bb6---",
            "--bb666bbbb666--",
            "--bb666bb66bb5--",
            "--6b696b669666--",
            "--6bb66b666666--",
            "--66b66b666666--",
            "--66bbbbbbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---22-----------",
            "---666bb66556---",
            "--bb666bbbb666--",
            "--bb666bb66555--",
            "--6b696b669666--",
            "--6bb66b666666--",
            "--66b66b666666--",
            "--66bbbbbbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---44-----------",
            "---666b566556---",
            "--b5666b555666--",
            "--bb666bb66555--",
            "--6b696b669666--",
            "--6bb66b666666--",
            "--66b66b666666--",
            "--66bbbbbbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---44-----------",
            "---6665566556---",
            "--556665555666--",
            "--556665566555--",
            "--6b696b669666--",
            "--6bb66b666666--",
            "--66b66b666666--",
            "--66bbbbbbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---44-----------",
            "---6665566556---",
            "--556665555666--",
            "--556665566555--",
            "--656965669666--",
            "--655665666666--",
            "--66b665666666--",
            "--66bbb5bbb66b--",
            "--69bb6666bb9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---44-----------",
            "---6665566556---",
            "--556665555666--",
            "--556665566555--",
            "--656965669666--",
            "--655665666666--",
            "--665665666666--",
            "--665555555665--",
            "--69b566665b9b--",
            "--669966669966--",
            "--6bbb99996b66--",
            "--bb6b66666bb6--",
            "---66bb66666b---",
        ],
        [
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---44-----------",
            "---6665566556---",
            "--556665555666--",
            "--556665566555--",
            "--656965669666--",
            "--655665666666--",
            "--665665666666--",
            "--665555555665--",
            "--695566665595--",
            "--669966669966--",
            "--656699996566--",
            "--b56b666665b6--",
            "---66bb66666b---",  
        ],
        [
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---44-----------",
            "---6665566556---",
            "--556665555666--",
            "--556665566555--",
            "--656965669666--",
            "--655665666666--",
            "--665665666666--",
            "--665555555665--",
            "--695566665595--",
            "--669966669966--",
            "--656699996566--",
            "--556566666556--",
            "---6655666665---",
        ],
        [
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---44-----------",
            "---6665555556---",
            "--556665555666--",
            "--556665566555--",
            "--656965669666--",
            "--655665666666--",
            "--665665666666--",
            "--665555555665--",
            "--665566665555--",
            "--699966669996--",
            "--656699996566--",
            "--556566666556--",
            "---6655666665---",
        ],
        [
            "----------------",
            "--556-----------",
            "-56555----------",
            "-6-4-5----------",
            "---44---65566---",
            "---66655555566--",
            "--655666556655--",
            "--665666569666--",
            "--665966566666--",
            "--666566566666--",
            "--6666555556665-",
            "---665566665555-",
            "---665666669966-",
            "---669999996566-",
            "---556566666556-",
            "---56655666665--",
        ],
        [
            "----------------",
            "----------------",
            "--55------------",
            "-6565-----------",
            "-554-----666----",
            "-6-44-5555555---",
            "---6666555666---",
            "--56666556966---",
            "--556965566665--",
            "--655666555665--",
            "---65566566556--",
            "---665555665666-",
            "---666566665666-",
            "----55999999955-",
            "----66656656665-",
            "----6655665666--",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "--55------------",
            "-6565-----------",
            "-554-----666----",
            "-6-44-5555555---",
            "---6666555666---",
            "--56666556966---",
            "--556965566665--",
            "--655666555665--",
            "---65566566556--",
            "---665555665666-",
            "---666566665666-",
            "----55599999955-",
            "----66956656665-",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--55------------",
            "-6565-----------",
            "-554-----666----",
            "-6-44-5555555---",
            "---6666555666---",
            "--56666556966---",
            "--556965566665--",
            "--655666555665--",
            "---65566566556--",
            "---665555665666-",
            "---666566999666-",
            "----55599655955-",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--55------------",
            "-6565-----------",
            "-554-----666----",
            "-6-44-5555555---",
            "---6666555666---",
            "--56666556966---",
            "--556965566665--",
            "--655666555665--",
            "---65566566556--",
            "---665555665666-",
            "---666566999666-",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--55------------",
            "-6565-----------",
            "-554-----666----",
            "-6-44-5555555---",
            "---6666555666---",
            "--56666556966---",
            "--556965566665--",
            "--655666555665--",
            "---65566566556--",
            "---665555665666-",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "--55------------",
            "-6565-----------",
            "-554-----666----",
            "-6-44-5555555---",
            "---6666555666---",
            "--56666556966---",
            "--556965566665--",
            "--655666555665--",
            "---65566566556--",
        ],
    ],

};

// Make other pools
const colorSub = "blue,uU yellow,yY orange,oO green,gG purple,pP brown,bB".split(" ");
for(let a = 0; a < colorSub.length; a++){
    
    // Pool
    let colorArt = [], name = colorSub[a].split(",")[0], symbols = colorSub[a].split(",")[1];
    for(let i = 0; i < art.redPool.length; i++){
        let colorImage = [];
        for(let j = 0; j < art.redPool[i].length; j++){
            colorImage.push(art.redPool[i][j].replaceAll("r", symbols[0]).replaceAll("R", symbols[1]));
        }
        colorArt.push(colorImage);
    }
    art[name+"Pool"] = colorArt;

    // Pool top
    colorArt = [];
    name = colorSub[a].split(",")[0];
    symbols = colorSub[a].split(",")[1];
    for(let i = 0; i < art.redPoolTop.length; i++){
        let colorImage = [];
        for(let j = 0; j < art.redPoolTop[i].length; j++){
            colorImage.push(art.redPoolTop[i][j].replaceAll("r", symbols[0]).replaceAll("R", symbols[1]));
        }
        colorArt.push(colorImage);
    }
    art[name+"PoolTop"] = colorArt;

}

const sprites = {
    bird: [
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------BB-----",
            "--------Bb.B.---",
            "----OO-BbbbB..--",
            "--BBOOOObbbB----",
            "---BbbOOObB-----",
            "---BBbbbbB------",
            "-----BBBB-------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------BB-----",
            "--------Bb.B.---",
            "-------BbbbB..--",
            "--BBOOOObbbB----",
            "---OOOOOObB-----",
            "---BBbbbbB------",
            "-----BBBB-------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------BB-----",
            "--------Bb.B.---",
            "-------BbbbB..--",
            "--BBBBOObbbB----",
            "---BOOOOObB-----",
            "---OOObbbB------",
            "-----BBBB-------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------BB-----",
            "--------Bb.B.---",
            "-------BbbbB..--",
            "--BBOOOObbbB----",
            "---OOOOOObB-----",
            "---BBbbbbB------",
            "-----BBBB-------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------BB-----",
            "--------Bb.B.---",
            "----OO-BbbbB..--",
            "--BBOOOObbbB----",
            "---BbbOOObB-----",
            "---BBbbbbB------",
            "-----BBBB-------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ],
        [
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
            "---------BB-----",
            "---OO---Bb.B.---",
            "----OO-BbbbB..--",
            "--BBBOOObbbB----",
            "---BbbOOObB-----",
            "---BBbbbbB------",
            "-----BBBB-------",
            "----------------",
            "----------------",
            "----------------",
            "----------------",
        ]
    ],
    rottweiler: [
        [
            "-------.....--------.....-------",
            "------.99999..----..99999.------",
            "-----....98899.--.99889....-----",
            "---------...889..988...---------",
            "---....--.99.889988.99.--....---",
            "--.9999..9899.8888.9989..9999.--",
            "-.98888998RR99888899RR89988889.-",
            ".999888888RrR998899RrR888888999.",
            "....98888RrrrR9889RrrrR88889....",
            ".---.9888RrrrR9999RrrrR8889.---.",
            "--..988888RrrrR99RrrrR888889..--",
            "-.998888888RRRR88RRRR888888899.-",
            ".988888888888888888888888888889.",
            ".998888888888888888888888888899.",
            ".9.98888888888888888888888889.9.",
            "..-.988888888888888888888889.-..",
            ".--.988888888888888888888889.--.",
            "--.98888888888888889988888889.--",
            "-.98888888888888889pP988888889.-",
            "-.98888888888888889PP988888889.-",
            ".988888888888888888998888888889.",
            ".989988888888888888888888889989.",
            ".99..9888888888888888888889..99.",
            ".9.--.98888888888888888889.--.9.",
            ".9.-..98888888888888888889..-.9.",
            "-..-.-.998888888888888899.-.-..-",
            "--.-.--..99988888888999..--.-.--",
            "----.--.-...99999999...-.--.----",
            "---..-..--.-........-.--..-..---",
            "--..--.---.----------.---.--..--",
            "--..-..--..----------..--..-..--",
            "--..-..--..----------..--..-..--",
        ],
        [
            "--------------------.....-------",
            "------------------..99999.------",
            "-----------------.99889....-----",
            "------------.....98889.---------",
            "---------...9999988889.--....---",
            "-------..99988888888889..9999.--",
            "-----..99888RRR888888889988889.-",
            "----.998888RrrR8888888888888999.",
            "---.988888RrrR88888888888889....",
            "--.8888888RRR88888888888889.---.",
            "--........888888888888888889..--",
            "--4--4--5-...88888888888888899.-",
            "-3--3--4---4-.88888888888888889.",
            "-2--2-3---4---.8888888888888899.",
            "---------3---5-.8888888888889.9.",
            "------------2--.888888888889.-..",
            "----------------.88888888889.--.",
            "--------------44.888888888889.--",
            "-2--2-2------2---.888888888889.-",
            "-3--3--3---------.888888888889.-",
            "-...-3--4--2-----.8888888888889.",
            "-.88...-4---3-2---.888888889988.",
            "--.8888....-4--2--.88888889..99.",
            "---.8888888...-4--.8888889.--.9.",
            "----.998888888..--.8888889.--.9.",
            "-----..998888888..8888899.---..-",
            "-------..99988888888999..----.--",
            "------..-...99999999...---------",
            "------.----.........--....------",
            "------.----.--..---..----...----",
            "-----..---..---..---...---..----",
            "-----..---..----..---..---------",
        ],
        [
            "--------------------.....-------",
            "------------------..99999.------",
            "-----------------.99889....-----",
            "------------.....98889.---------",
            "---------...9999988889.--....---",
            "-------..99988888888889..9999.--",
            "-----..99888RRR888888889988889.-",
            "----.998888RrrR8888888888888999.",
            "---.988888RrrR88888888888889....",
            "--.8888888RRR88888888888889.---.",
            "--........888888888888888889..--",
            "--4--4--5-...88888888888888899.-",
            "-3--3--4---4-.88888888888888889.",
            "-2--2-3---4---.8888888888888899.",
            "---------3---5-.8888888888889.9.",
            "-2----------2--.888888888889.-..",
            "-3--2-2---------.88888888889.--.",
            "--4-4-3--3----24.888888888889.--",
            "-......---3-2----.888888888889.-",
            "-.88888...4-5----.888888888889.-",
            "-.88888888..5-3--.8888888888889.",
            "-.8888888888.-4---.888888889988.",
            "--.9888888888.-5--.88888889..99.",
            "---.9888888888..--.8888889.--.9.",
            "----.99888888888.-.8888889.--.9.",
            "-----..9988888888.8888899.---..-",
            "------...99988888888999..----.--",
            "-----..--...99999999..----------",
            "----..----.-........-..---------",
            "----.----..--..--.----.---------",
            "---..--...--..---..---...-------",
            "---..--..---..---..----..-------",
        ],
        [
            "--------------------.....-------",
            "------------------..99999.------",
            "-----------------.99889....-----",
            "------------.....98889.---------",
            "---------...9999988889.--....---",
            "-------..99988888888889..9999.--",
            "-----..99888RRR888888889988889.-",
            "----.998888RrrR8888888888888999.",
            "---.988888RrrR88888888888889....",
            "--.8888888RRR88888888888889.---.",
            "--........888888888888888889..--",
            "--4--4--5-...88888888888888899.-",
            "-3-23--4-2-4-.88888888888888889.",
            "-23-223-3-4---.8888888888888899.",
            "--4--2-4-3-2-5-.8888888888889.9.",
            "--.......--32--.888888888889.-..",
            "-.8888888.4----4.88888888889.--.",
            "-.88888888..-23-.888888888889.--",
            "-.8888888888.4---.888888888889.-",
            "-.88888888888.-2-.888888888889.-",
            "-.988888888888.4-.8888888888889.",
            "-.9888888888888.--.888888889988.",
            "--.988888888888.--.88888889..99.",
            "---.988888888888.-.8888889.--.9.",
            "----.99888888888.-.8888889.--.9.",
            "-----..9988888888.8888899.---..-",
            "-----....99988888888999..----.--",
            "----..---...99999999.....-------",
            "----.---..-.........----..------",
            "---..--..--.------.------.------",
            "--..---..--..-..--..----..------",
            "--..---..---....--..----..------",
        ],
        [
            "--------------------.....-------",
            "------------------..99999.------",
            "-----------------.99889....-----",
            "------------.....98889.---------",
            "---------...9999988889.--....---",
            "-------..99988888888889..9999.--",
            "-----..99888RRR888888889988889.-",
            "----.998888RrrR8888888888888999.",
            "---.988888RrrR88888888888889....",
            "--.8888888RRR88888888888889.---.",
            "--........888888888888888889..--",
            "--4--4--5-...88888888888888899.-",
            "---23--4-2-4-.88888888888888889.",
            "--3........---.8888888888888899.",
            "--.88888888.35-.8888888888889.9.",
            "-.8888888888.--.888888888889.-..",
            "-.88888888888.-4.88888888889.--.",
            "-.88888888888.3-.888888888889.--",
            "-.888888888888.-3.888888888889.-",
            "-.888888888888.2-.888888888889.-",
            "-.9888888888888.-.8888888888889.",
            "-.9888888888888.--.888888889988.",
            "--.9888888888888.-.88888889..99.",
            "---.9888888888888..8888889.--.9.",
            "----.9988888888888.8888889.--.9.",
            "-----..998888888888888899.---..-",
            "-----.-..99988888888999..----.--",
            "-----.----..99999999....--------",
            "-----..-----.........-.---------",
            "------.----.-----.--.-...-------",
            "------....-.-..-..-..--..-------",
            "-------...-....-..-..--..-------",
        ],
        [
            "--------------------.....-------",
            "------------------..99999.------",
            "-----------------.99889....-----",
            "------------.....98889.---------",
            "---------...9999988889.--....---",
            "-------..99988888888889..9999.--",
            "-----..99888RRR888888889988889.-",
            "----.998888RrrR8888888888888999.",
            "---.988888RrrR88888888888889....",
            "--.8888888RRR88888888888889.---.",
            "--........888888888888888889..--",
            "----.........88888888888888899.-",
            "---.888888....88888888888888889.",
            "--.8888888888..8888888888888899.",
            "--.88888888888..8888888888889.9.",
            "-.888888888888..888888888889.-..",
            "-.8888888888888..88888888889.--.",
            "-.8888888888888..888888888889.--",
            "-.88888888888888..888888888889.-",
            "-.88888888888888..888888888889.-",
            "-.98888888888888..8888888888889.",
            "-.988888888888888..888888889988.",
            "--.98888888888888..88888889..99.",
            "---.98888888888888.8888889.--.9.",
            "----.998888888888888888889.--.9.",
            "-----..998888888888888899.---..-",
            "-----.-..99988888888999..----.--",
            "----..---...99999999....--------",
            "----.----.--.........--.--------",
            "----.---..---.--.---.--.--------",
            "---..--..---..--..--..-...------",
            "---..--..---..--..--..--..------",
            ],
        [
            "--------------------.....-------",
            "------------------..99999.------",
            "-----------------.99889....-----",
            "------------.....98889.---------",
            "---------...9999988889.--....---",
            "-------..99988888888889..9999.--",
            "-----..99888RRR888888889988889.-",
            "----.998888RrrR8888888888888999.",
            "---.988888RrrR88888888888889....",
            "--.8888888RRR88888888888889.---.",
            "--........888888888888888889..--",
            "--4--4--5-...88888888888888899.-",
            "---23--4-2-4-.88888888888888889.",
            "--3........---.8888888888888899.",
            "--.88888888.35-.8888888888889.9.",
            "-.8888888888.--.888888888889.-..",
            "-.88888888888.-4.88888888889.--.",
            "-.88888888888.3-.888888888889.--",
            "-.888888888888.-3.888888888889.-",
            "-.888888888888.2-.888888888889.-",
            "-.9888888888888.-.8888888888889.",
            "-.9888888888888.--.888888889988.",
            "--.9888888888888.-.88888889..99.",
            "---.9888888888888..8888889.--.9.",
            "----.9988888888888.8888889.--.9.",
            "-----..998888888888888899.---..-",
            "-----.-..99988888888999..----.--",
            "-----.----..99999999....--------",
            "-----..-----.........-.---------",
            "------.----.-----.--.-...-------",
            "------....-.-..-..-..--..-------",
            "-------...-....-..-..--..-------",
        ],
        [
            "--------------------.....-------",
            "------------------..99999.------",
            "-----------------.99889....-----",
            "------------.....98889.---------",
            "---------...9999988889.--....---",
            "-------..99988888888889..9999.--",
            "-----..99888RRR888888889988889.-",
            "----.998888RrrR8888888888888999.",
            "---.988888RrrR88888888888889....",
            "--.8888888RRR88888888888889.---.",
            "--........888888888888888889..--",
            "--4--4--5-...88888888888888899.-",
            "-3-23--4-2-4-.88888888888888889.",
            "-23-223-3-4---.8888888888888899.",
            "--4--2-4-3-2-5-.8888888888889.9.",
            "--.......--32--.888888888889.-..",
            "-.8888888.4----4.88888888889.--.",
            "-.88888888..-23-.888888888889.--",
            "-.8888888888.4---.888888888889.-",
            "-.88888888888.-2-.888888888889.-",
            "-.988888888888.4-.8888888888889.",
            "-.9888888888888.--.888888889988.",
            "--.988888888888.--.88888889..99.",
            "---.988888888888.-.8888889.--.9.",
            "----.99888888888.-.8888889.--.9.",
            "-----..9988888888.8888899.---..-",
            "-----....99988888888999..----.--",
            "----..---...99999999.....-------",
            "----.---..-.........----..------",
            "---..--..--.------.------.------",
            "--..---..--..-..--..----..------",
            "--..---..---....--..----..------",
        ],
        [
            "--------------------.....-------",
            "------------------..99999.------",
            "-----------------.99889....-----",
            "------------.....98889.---------",
            "---------...9999988889.--....---",
            "-------..99988888888889..9999.--",
            "-----..99888RRR888888889988889.-",
            "----.998888RrrR8888888888888999.",
            "---.988888RrrR88888888888889....",
            "--.8888888RRR88888888888889.---.",
            "--........888888888888888889..--",
            "--4--4--5-...88888888888888899.-",
            "-3--3--4---4-.88888888888888889.",
            "-2--2-3---4---.8888888888888899.",
            "---------3---5-.8888888888889.9.",
            "-2----------2--.888888888889.-..",
            "-3--2-2---------.88888888889.--.",
            "--4-4-3--3----24.888888888889.--",
            "-......---3-2----.888888888889.-",
            "-.88888...4-5----.888888888889.-",
            "-.88888888..5-3--.8888888888889.",
            "-.8888888888.-4---.888888889988.",
            "--.9888888888.-5--.88888889..99.",
            "---.9888888888..--.8888889.--.9.",
            "----.99888888888.-.8888889.--.9.",
            "-----..9988888888.8888899.---..-",
            "------...99988888888999..----.--",
            "-----..--...99999999..----------",
            "----..----.-........-..---------",
            "----.----..--..--.----.---------",
            "---..--...--..---..---...-------",
            "---..--..---..---..----..-------",
        ]
    ]
};

// Various animations
const animations = {};

// Spiral fills
/*
var amount = 200;
var grid = Array.from({ length: amount }, function() { return Array(amount).fill(0); });
var pending = [];

noStroke();
var x = 200, y = 200, lx, ly, c = 0; 

function setPixel(x, y, a, a2) {
    if (y < grid.length && y >= 0 && x < grid[y].length && x >= 0 && grid[y][x] !== 1) {
        pending.push([y, x]);
        return 1;
    }
    return 0;
}
function randomFill() {
    fill(
        lerpColor(
            color(255, 0, 0),
            color(170, 0, 0),
            random(0, 1)
        )
    );
    //fill(random(0, 255), random(0, 255), random(0, 255));
}

randomFill();
background(0);

draw = function() {
    
    if (frameCount % 20 === 0) {
        randomFill();
    }
    
    noStroke();
    grid.forEach(function(v2, y, a) {
        v2.forEach(function(v, x, a2) {
            if (v === 1) {
                
                rect(x * (600 / a2.length), y * (600 / a.length), 600 / a2.length, 600 / a.length);
                
                var r = floor(random(0, 5));
                switch (r) {
                    case 1:
                        setPixel(x + 1, y, a, a2);
                        break;
                    case 2:
                        setPixel(x, y + 1, a, a2);
                        break;
                    case 3:
                        setPixel(x - 1, y, a, a2);
                        break;
                    case 4:
                        setPixel(x, y - 1, a, a2);
                        break;
                }
                
                if (
                    ((!grid[y + 1]) || grid[y + 1][x] !== 0) &&
                    ((!grid[y - 1]) || grid[y - 1][x] !== 0) &&
                    ((!grid[y][x + 1]) || grid[y][x + 1] !== 0) &&
                    ((!grid[y][x - 1]) || grid[y][x - 1] !== 0)
                ) {
                    grid[y][x] = 2;
                }
                
            }
        });
    });
    for (var i = pending.length - 1; i >= 0; i--) {
        grid[pending[i][0]][pending[i][1]] = 1;
        pending.splice(i, 1);
    }
    
    if (c < 75) {
        var sz = map(c, 0, 100, 1, 400);
        x = cos(c * 10.1) * sz + 300;
        y = sin(c * 10.1) * sz + 300;
        
        stroke(0);
        strokeWeight(2);
        grid[floor(y / (600 / grid.length))][floor(x / (600 / grid[0].length))] = 1;
        c ++;
    }
    
};

mouseDragged = function() {
    setPixel(floor(mouseX / (600 / grid.length)), floor(mouseY / (600 / grid[floor(mouseX / (600 / grid.length))].length)), grid, grid[0]);
};
*/

if(!Delag){

    // Render art
    noStroke();
    for(let a in art){
        if(typeof art[a][0] === "string"){
            background(0, 0);
            let pixelW = 400/art[a][0].length,
                pixelH = 400/art[a].length;
            for(let i = 0; i < art[a].length; i++){
                for(let j = 0; j < art[a][i].length; j++){
                    fill(colors[art[a][i][j]]);
                    rect(j*pixelW, i*pixelH, pixelW, pixelH);
                }
            }
            art[a] = get(0, 0, 400, 400);
        }else{
            for(let t = 0; t < art[a].length; t++){
                background(0, 0);
                let pixelW = 400/art[a][t][0].length,
                    pixelH = 400/art[a][t].length;
                for(let i = 0; i < art[a][t].length; i++){
                    for(let j = 0; j < art[a][t][i].length; j++){
                        fill(colors[art[a][t][i][j]]);
                        rect(j*pixelW, i*pixelH, pixelW, pixelH);
                    }
                }
                art[a][t] = get(0, 0, 400, 400);
            }
        }
    }
    for(let s in sprites){
        background(0, 0);
        if(typeof sprites[s][0] === "string"){
            background(0, 0);
            let pixelW = 400/sprites[s][0].length,
                pixelH = height/sprites[s].length;
            for(let i = 0; i < sprites[s].length; i++){
                for(let j = 0; j < sprites[s][i].length; j++){
                    fill(colors[sprites[s][i][j]]);
                    rect(j*pixelW, i*pixelH, pixelW, pixelH);
                }
            }
            sprites[s] = get(0, 0, 400, 400);
        }else{
            for(let t = 0; t < sprites[s].length; t++){
                background(0, 0);
                let pixelW = 400/sprites[s][t][0].length,
                    pixelH = 400/sprites[s][t].length;
                for(let i = 0; i < sprites[s][t].length; i++){
                    for(let j = 0; j < sprites[s][t][i].length; j++){
                        fill(colors[sprites[s][t][i][j]]);
                        rect(j*pixelW, i*pixelH, pixelW, pixelH);
                    }
                }
                sprites[s][t] = get(0, 0, 400, 400);
            }
        }
    }
    console.log('---Images loaded---');

}


// ]

/** Pages class **/
// [

/**
 * Page
 * 
 * A scene that can be displayed and has some helpful methods
 * 
 * @param {object} params - Contains the page's parameters.
 *     @param {boolean} visible - Whether the page is visible or not.
 *     @param {function} draw - Called every frame the page is visible for.
 *     @param {function} onSwitch - Called whenever the page's visibily state is changed.
 *     @param {function} onLeave - Called when the page becomes invisible
 *     @param {function} onEnter - Called when the page becomes visible
 **/
class Page {
    constructor(params) {
        this.visible = false;
        this.draw = () => {};
        this.onSwitch = () => {};
        this.onLeave = () => {};
        this.onEnter = () => {};
        for (let i in params) {
            this[i] = params[i];
        }
    }
    
    hide() {
        this.visible = false;
    }
    show() {
        this.visible = true;
    }
    update() {
        try {
            if(this.visible) this.draw();
        } catch(err) {
            println(err);
        }
    }
}

/**
 * Pages
 * 
 * Contains all the pages for the game.
 * 
 * @param {object} params - Contains the parameters for the pages.
 *     @param {object} pages - The object of pages
 *     @param {string} page - A string representing the name of the current visible page
 *     @param {string} lastPage - A string representing the name of the last visible page
 **/
class Pages {
    constructor(params) {
        this.pages = {};
        this.page = undefined;
        this.lastPage = undefined;
        this.Page = undefined;
        for (let i in params) {
            this[i] = params[i];
        }
        for (let i in this.pages) {
            this.pages[i].name = i;
        }
    }
    
    /**
     * Hide a single page
     * 
     * @param {string / object} page - a string or object representing the page to hide
     **/
    hidePage(page) {
        // Hide page
        if (typeof page === "string") {
            // String passed
            this.pages[page].hide();
            if (this.page === page) this.page = undefined;
        } else {
            // Object passed
            page.hide();
            if (this.page === page.name) this.page = undefined;
        }
    }
    
    /**
     * Hide all the pages
     **/
    hidePages() {
        for (let i in this.pages) {
            this.hidePage(i);
        }
    }
    
    /**
     * Hide a single page
     * 
     * @param {string / object} page - a string or object representing the page to show
     **/
    showPage(page) {
        try {
            this.hidePages();
            // Show one page
            if (typeof page === "string") {
                // String passed
                this.pages[page].show();
                this.page = page;
                this.Page = this.pages[page];
            } else {
                // Object passed
                page.show();
                this.page = page.name;
                this.Page = page;
            }
        } catch(err) {
            println(err);
        }
    }
    
    /**
     * Update the pages
     **/
    update() {
        this.lastPage = this.page;
        for (let i in this.pages) {
            this.pages[i].update();
        }
        if (this.lastPage !== this.page) {
            this.pages[this.page].onSwitch();
            this.pages[this.lastPage].onSwitch();
            this.pages[this.page].onEnter();
            this.pages[this.page].onLeave();
        }
    }
}

// ]

/** Light class **/
// [

class Light {
    constructor(x, y) {
        this.x = x;
        this.y = y;
        this.numRays = 360;
        this.color = color(255, 25);
        this.strength = 255;
        this.rays = [];
        this.visibleRays = [];
        for (var i = 0; i <= this.numRays + 1; i++ && this.visibleRays.push({x:0, y:0})) {}

    }

    castRays(blocks) {
        this.rays = [];
        const step = (2 * Math.PI) / this.numRays;

        for (let angle = 0; angle < 2 * Math.PI; angle += step) {
            this.castRay(angle, blocks);
        }
    }
	castRay(angle, blocks) {
        
        const rayLength = 400;
        const blockSize = 40;
		const dx = Math.cos(angle);
		const dy = Math.sin(angle);

        const compensation = (max(width, height) / rayLength) * 2;

		let t = 0;
		while (t < rayLength) {
			const rayX = this.x + t * dx;
			const rayY = this.y + t * dy;

			const blockX = floor(rayX / blockSize);
			const blockY = floor(rayY / blockSize);

			// Find relative X & Y positions within the current block
			const left = rayX - (blockX * blockSize);
			const top = rayY - (blockY * blockSize);
			const right = blockSize - left;
			const bottom = blockSize - top;
			
			const checks = [
				blockX, blockY,
				blockX+1, blockY,
				blockX, blockY+1,
				blockX-1, blockY,
				blockX, blockY-1
			];
			for (let i = 0; i < checks.length; i += 2) {
				const x = (checks[i] * blockSize), y = (checks[i+1] * blockSize);
				if (
					checks[i] >= 0 &&
					checks[i] < blocks[0].length &&
					checks[i+1] >= 0 &&
					checks[i+1] < blocks.length &&
					rayX >= x && rayX <= x + blockSize &&
					rayY >= y && rayY <= y + blockSize) {

					if (blocks[checks[i+1]][checks[i]].canCollide) {
						this.rays.push({ x: rayX, y: rayY });
						return;
					} else {
						blocks[checks[i+1]][checks[i]].setLight((1 - (t / rayLength)) * this.strength);
					}

				}
			}
			
			const stepX = dx > 0 ? right / abs(dx) : left / abs(dx);
			const stepY = dy > 0 ? bottom / abs(dy) : top / abs(dy);
			
			t += min((stepX || 1), (stepY || 1));

			if (t >= rayLength) {
                this.rays.push({x: this.x + rayLength * dx * compensation, y: this.y + rayLength * dy * compensation});
                return;
			}
		}
	}

    draw() {
		
		// noStroke();
		fill(this.color, 25);
        stroke(this.color, 25);
        strokeWeight(3);
        beginShape();
            // Subtle animation
            this.visibleRays.forEach((v, i) => {
                this.visibleRays[i].x += (this.rays[i].x - this.visibleRays[i].x) / 2;
                this.visibleRays[i].y += (this.rays[i].y - this.visibleRays[i].y) / 2;
                vertex(v.x - PADDING_X, v.y - PADDING_Y);
            });
        endShape();
		
    }
}

// ]

/** Enemy class **/
// [

class Enemy {
    constructor (params) {
        this.x = 0;
        this.y = 0;
        this.vy = 0;
        this.vx = 0;
        this.w = blockW;
        this.h = blockH;

        this.transition = random(0, 999999);
        this.animateSpeed = 10;
        this.type = "basic";
        this.index = 0;
        this.attacking = false;

        this.isGrounded = false;
        this.isNear = false;
        this.isTouching = false;

        this.strength = -1;
        
        for (let i in params) {
            this[i] = params[i];
        }
    }
    
    /**
     * Efficient collisions
     * 
     * Only check the closest blocks for collisions and ignore all others
     **/
    collide(vx, vy) {
        let X = floor((this.x + PADDING_X) / blockW)-1,
            Y = floor((this.y + PADDING_Y) / blockH)-1,
            toX, toY;
        for(let y = max(Y, 0); y < min(Y+4, blocks.length); y++) {
            for(let x = max(X, 0); x < min(X+4, blocks[y].length); x++) {
                
                let block = blocks[y][x],
                    overlapX = this.x-block.x < 0?(this.w+(this.x-block.x)):(block.w-(this.x-block.x)),
                    overlapY = this.y-block.y < 0?(this.h+(this.y-block.y)):(block.h-(this.y-block.y)),
                    touching = (overlapY > this.h/2) && (overlapX > this.w/2);
                if(block.canCollide) this.isNear = true;
                if(
                    this.x + this.w > block.x &&
                    this.y + this.h > block.y &&
                    block.x + block.w > this.x &&
                    block.y + block.h > this.y
                    ) {
                    
                    // Handle collision
                    if(block.canCollide){
                        this.isTouching = true;
                        if(vx > 0) {
                            this.vx = 0;
                            toX = block.x - this.w;
                        }
                        if(vx < 0) {
                            this.vx = 0;
                            toX = block.x + block.w;
                        }
                        if(vy > 0) {
                            this.isGrounded = true;
                            this.vy = 0;
                            toY = block.y - this.h;
                        }
                        if(vy < 0) {
                            this.vy = 0;
                            toY = block.y + block.h;
                        }
                    }
                    block.setColor(this.strength);

                }
                
            }
        }
        
        if(toX !== undefined){
            this.x = toX;
        }
        if(toY !== undefined){
            this.y = toY;
        }
    }

    applyForce(fx, fy) {
        this.vx += fx;
        this.vy += fy;
    }

    /**
     * Reset frame
     * 
     * To be called every frame before the enemy is updated to reset some complex-logic variables
     **/
    resetFrame() {
        this.isTouching = false;
        this.isNear = false;
        this.attacking = false;
        this.transition++;
    }
    
    update() {
        this.logic();
        this.isGrounded = false;
        this.move();
        this.draw();
    }
    draw() {
        let mapped = floor((this.transition/this.animateSpeed)%sprites[this.type].length);
        pushMatrix();
            translate(this.x, this.y);
            image(sprites[this.type][mapped], 0, 0, this.w+1, this.h+1);
        popMatrix();
    }
    logic() {
        this.x += this.vx;
        this.y += this.vy;
    }
    move() {

    }
}

// ]

/** Rottweiler class **/
// [

class Rottweiler extends Enemy {
    constructor (params) {
        super(params);
        this.mv = 5;
        this.type = "rottweiler";
        this.strength = -4;
        this.animateSpeed = 4;
    }
    
    draw() {
        if (this.attacking) {
            let mapped = floor((this.transition / this.animateSpeed) % (sprites[this.type].length - 1)) + 1;
            pushMatrix();
                translate(this.x + this.w / 2, this.y + this.h / 2);
                if (this.vx > 0) {
                    scale(1, -1);
                    rotate(atan2(this.vx, this.vy) + 90);
                } else {
                    rotate(atan2(-this.vx, this.vy) - 90);
                }
                image(sprites[this.type][mapped], -this.w / 2, -this.h / 2, this.w + 1, this.h + 1);
            popMatrix();
        } else {
            pushMatrix();
                translate(this.x, this.y);
                image(sprites[this.type][0], 0, 0, this.w + 1, this.h + 1);
            popMatrix();
        }
    }
    logic() {

        // repulse from other rottweilers
        const repulsionDistance = max(this.w, this.h);
        const repulsionForce = 0.1;
        for (let j = this.index + 1; j < entities.length; j++) {
            if (entities[j].type === this.type) {
                const dx = entities[j].x - this.x;
                const dy = entities[j].y - this.y;
                const distance = Math.sqrt(dx * dx + dy * dy) || 1;
                if (distance < repulsionDistance) {
                    this.isTouching = true;
                    const force = repulsionForce * (repulsionDistance - distance) / distance;
                    const fx = force * dx;
                    const fy = force * dy;
                    this.applyForce(-fx, -fy);
                    entities[j].applyForce(fx, fy);
                }
            }
		}

        // Follow the player's pathfinder
        this.gridPos = toGrid(this.x, this.y, this.w, this.h);
        let p = player.pathfinder,
            g = this.gridPos,
            d = p[g.y][g.x];
        
        // Find path in the X axis
        let c = [MAX_DIST + 1, {}];
        [
            {x: g.x+1, y: g.y},
            {x: g.x-1, y: g.y},
        ].filter((v) => {
            return v.y < blocks.length && v.y >= 0 && v.x < blocks[0].length && v.x >= 0;
        }).forEach((v) => {
            if (p[v.y][v.x] < c[0] && p[v.y][v.x] !== 0) {
                c[0] = p[v.y][v.x];
                c[1] = v;
            }
        });
        if (c[0] !== MAX_DIST + 1) {
            this.attacking = true;
            this.vx = min(max(this.vx + (c[1].x - g.x) / 5, -this.mv), this.mv);
        }

        // Find path in the Y axis
        c = [MAX_DIST + 1, {}];
        [
            {x: g.x, y: g.y+1},
            {x: g.x, y: g.y-1},
        ].filter((v) => {
            return v.y < blocks.length && v.y >= 0 && v.x < blocks[0].length && v.x >= 0;
        }).forEach((v) => {
            if (p[v.y][v.x] < c[0] && p[v.y][v.x] !== 0) {
                c[0] = p[v.y][v.x];
                c[1] = v;
            }
        });
        if (c[0] !== MAX_DIST + 1) {
            this.attacking = true;
            if (this.isTouching) {
                this.vy = min(max(this.vy + (c[1].y - g.y) / 3, -this.mv), this.mv);
            }
        }

        // Drain the player's health
        if (collide(this, player)) {
            player.colorStrength = max(player.colorStrength - 0.1, -100);
        }

    }
    move() {
        
        // Collide x
        this.x += this.vx;
        this.collide(this.vx, 0);
        
        // Collide y
        this.y += this.vy;
        this.collide(0, this.vy);

        // Friction
        const f = 0.01;
        if (this.vx > 0) this.vx = max(this.vx - f, 0);
        if (this.vx < 0) this.vx = min(this.vx + f, 0);
        if (this.vy > 0) this.vy = max(this.vy - f, 0);
        if (this.vy < 0) this.vy = min(this.vy + f, 0);

        this.vy += GRAVITY;
    }

}

// ]

/** Bird class **/
// [

class Bird {
    constructor (params) {
        
        this.x = 0;
        this.y = 0;
        this.vy = 0;
        this.vx = 0;
        this.w = blockW;
        this.h = blockH;
        this.animateSpeed = 10;
        this.transition = random(0, 999999);
        this.dead = false;
        
        for (let i in params) {
            this[i] = params[i];
        }
        
    }
    
    update() {
        
        this.logic();
        this.draw();
        
    }
    draw() {
        
        let mapped = floor((frameCount/this.animateSpeed)%sprites["bird"].length);
        image(sprites["bird"][mapped], this.x, this.y, this.w+1, this.h+1);
        
    }
    logic() {
        
        this.transition++;
        this.vy = -(noise(this.transition/100)-0.4)*10;
        this.vx = min(this.vx+0.02, 2);
    
        this.x += this.vx;
        this.y += this.vy;

        if(this.x > levelW) this.dead = true;
    
    }
}

// ]

/** Block class **/
// [

/**
 * Block
 * 
 * @param {object} params - Contains the block's parameters.
 *     @param {number} x/y - The block's coordinates.
 *     @param {string} type - The name of the block, aka the type of block.
 **/
class Block {
    constructor (params) {
        
        this.x = 0;
        this.y = 0;
        this.type = "air";
        this.animateSpeed = 10;
        this.playerDist = 0;
        
        // Color handling
        this.strength = 0;
        this.canSpread = false;
        
        // Transition
        this.transSpeed = 50;
        this.transition = -100;
        
        // Light strength
        this.light = 0;
        this.lowest = 0;
        this.displayLowest = 0;
        
        for (let i in params) {
            this[i] = params[i];
        }
        
        this.data = blockData[this.symbol];
    
        for(let i in this.data){
            this[i] = this.data[i];
        }
        
    }
    
    /**
     * Display the block
     * 
     * Display: display the image of the block
     * Draw: handle animations
     **/
    display(art, x, y, w, h) {
        image(art, x, y, w+1, h+1);
    }
    draw() {
        
        if (art[this.type].length) {
            if (this.canInfiniteAnimate) {
                let mapped = floor((abs(this.transition)/this.animateSpeed)%art[this.type].length);
                this.display(art[this.type][mapped], this.x, this.y, this.w, this.h);
            } else {

                // A block is being colored!
                if (this.strength > 0) {
                    let mapped = round(map(this.transition, this.transSpeed, 0, art[this.type].length-1, 0));
                    if (this.transition < 0) {
                        mapped = art[this.type].length-1;
                    }
                    this.display(art[this.type][constrain(mapped, 0, art[this.type].length-1)], this.x, this.y, this.w, this.h);
                }

                // A block is decaying...
                else {
                    let mapped = round(map(this.transition, -this.transSpeed, 0, art[this.type].length-1, 0));
                    if (this.transition < -this.transSpeed) {
                        mapped = art[this.type].length-1;
                    }
                    this.display(art[this.type][constrain(mapped, 0, art[this.type].length-1)], this.x, this.y, this.w, this.h);
                }

            }
        } else {
            this.display(art[this.type], this.x, this.y, this.w, this.h);
        }
        
        if (!this.canAnimate && this.canChangeColor) {
            
            // A block is being colored!
            if (this.strength > 0) {
                rectMode(CENTER);
                colorMode(HSB);
                
                    noFill();
                    let amount = 20;
                    strokeWeight((this.w/amount)/2);
                    for(let i = 0; i < amount; i++){
                        let size = i*(this.transSpeed/amount);
                        if(this.transition+size > 0 && this.transition+size < this.transSpeed){
                            stroke(map(i, 0, amount, 0, 255), 180, 180, 200);
                            rect(
                                this.x+this.w/2,
                                this.y+this.h/2,
                                map(this.transition+size, this.transSpeed, 0, 0, this.w),
                                map(this.transition+size, this.transSpeed, 0, 0, this.h));
                        }
                    }
                    
                rectMode(CORNER);
                colorMode(RGB);
            }
            
            // A block is decaying...
            else if (this.strength <= 0) {
                rectMode(CENTER);
                
                    noFill();
                    let amount = 20;
                    strokeWeight((this.w/amount)/2);
                    for (let i = 0; i < amount; i++) {
                        let size = i*(this.transSpeed/amount);
                        if (this.transition+size > 0 && this.transition+size < this.transSpeed) {
                            stroke(map(i, 0, amount, 255, 0));
                            rect(
                                this.x+this.w/2,
                                this.y+this.h/2,
                                map(this.transition+size, this.transSpeed, 0, 0, this.w),
                                map(this.transition+size, this.transSpeed, 0, 0, this.h));
                        }
                    }
                    
                rectMode(CORNER);
            }
            /*
            else if (this.strength <= 0) {
                
                noStroke();
                let amount = 10;
                for (let x = 0; x < amount; x++) {
                    for (let y = 0; y < amount; y++) {
                        if (this.transition > 0 ?(random(0, this.transSpeed) > this.transition) : (random(0, -this.transSpeed) < this.transition)) {
                            fill(0);
                            rect(
                                this.x + ((this.w) * (x / amount)),
                                this.y + ((this.h) * (y / amount)),
                                this.w / amount,
                                this.h / amount
                            );
                        }
                    }
                }

            }*/

        }
        
    }
    shadow() {
        
        noStroke();
        fill(0, min(255-this.light, 255-this.displayLowest));
        rect(this.x, this.y, this.w, this.h);
        this.light = 0;

    }

    /**
     * Change states
     **/
    changeTo(type) {
    
        for(let i in this.data){
            this[i] = 0;
        }
        this.onChange = () => {};
        for(let i in blockData[type]){
            this[i] = blockData[type][i];
        }
        if(this.onChange) {
            this.onChange(this);
        }
    
    }
    setColor(strength) {
        
        // Sadly, no
        if (!this.canChangeColor) return;

        // Colorize!
        if (strength > 0) {

            // No point, color is less than this
            if (strength < this.strength) return;

            // Transition in progress, maybe later
            if (this.transition >= -this.transSpeed && this.canColor()) return;

            // Set color for the first time
            if (this.canColor()) {
                this.transition = this.transSpeed;
                player.colorStrength = max(player.colorStrength - player.colorDecrease, 0);
                player.hasColored++;
            }

            this.strength = strength;
            this.setLowLight(255);
            this.spread();
        
        }

        // Decayizeâ¢ï¸...
        else if (strength <= 0) {

            // No point, it's already too far gone );
            if (strength > this.strength) return;

            // Transition in progress, maybe later
            if (this.transition >= -this.transSpeed && this.canDecay()) return;
            
            // Start decaying for the first time
            if (this.canDecay()) {
                this.transition = this.transSpeed;
                player.hasColored--;
            }

            this.strength = strength;
            this.spread();

        }

    }

    /**
     * Light modification
     * 
     * @param {number} light - Number between 255-0 representing the light level to change to
     **/
    setLight(light) {

		this.light = max(max(this.light, light), 0);
		if (this.light <= 0) return;
		
		const decrease = this.light - (this.canCollide ? (255 / 3) : (255 / 8));
		if (this.index[1] !== blocks[0].length - 1 && blocks[this.index[0]][this.index[1]+1].light < decrease) blocks[this.index[0]][this.index[1]+1].setLight(decrease);
		if (this.index[1] !== 0 && blocks[this.index[0]][this.index[1]-1].light < decrease) blocks[this.index[0]][this.index[1]-1].setLight(decrease);
		if (this.index[0] !== blocks.length - 1  && blocks[this.index[0]+1][this.index[1]].light < decrease) blocks[this.index[0]+1][this.index[1]].setLight(decrease);
		if (this.index[0] !== 0 && blocks[this.index[0]-1][this.index[1]].light < decrease) blocks[this.index[0]-1][this.index[1]].setLight(decrease);

	}
    setLowLight(light) {

        this.lowest = max(max(this.lowest, light), 0);
        if (this.lowest <= 0) return;
        
        const decrease = this.lowest - (this.canCollide ? (255 / 5) : (255 / 10));
        if (this.index[1] !== blocks[0].length - 1 && blocks[this.index[0]][this.index[1]+1].lowest < decrease) blocks[this.index[0]][this.index[1]+1].setLowLight(decrease);
        if (this.index[1] !== 0 && blocks[this.index[0]][this.index[1]-1].lowest < decrease) blocks[this.index[0]][this.index[1]-1].setLowLight(decrease);
        if (this.index[0] !== blocks.length - 1  && blocks[this.index[0]+1][this.index[1]].lowest < decrease) blocks[this.index[0]+1][this.index[1]].setLowLight(decrease);
        if (this.index[0] !== 0 && blocks[this.index[0]-1][this.index[1]].lowest < decrease) blocks[this.index[0]-1][this.index[1]].setLowLight(decrease);

    }

    /**
     * Check the status of the block.
     * 
     * canDecay: Can the block become a decayed block?
     * canColor: Can the block become a colored block?
     **/
    canDecay() {
        return this.strength > 0;
    }
    canColor() {
        return this.strength <= 0;
    }
    isDecayed() {
        return this.strength < 0;
    }
    isColored() {
        return this.strength > 0;
    }

    /**
     * Spread color or decay depending on the block's state
     **/
    spread() {
        let touching = [
            [this.index[0]+1, this.index[1]],
            [this.index[0]-1, this.index[1]],
            [this.index[0], this.index[1]+1],
            [this.index[0], this.index[1]-1]
        ].filter((v) => {
            return v[0] < blocks.length && v[0] >= 0 && v[1] < blocks[0].length && v[1] >= 0;
        });
        
        this.spreadDecay(touching);
        this.spreadColor(touching);
    }
    spreadDecay(touching) {

        // Spread the death
        touching.forEach((v) => {
            if((this.strength + 1) <= blocks[v[0]][v[1]].strength && this.strength < 0) blocks[v[0]][v[1]].setColor(this.strength + 1);
        });

    }
    spreadColor(touching) {

        // Spread the joy
        touching.forEach((v) => {
            if((this.strength - 1) >= blocks[v[0]][v[1]].strength && this.strength > 0) blocks[v[0]][v[1]].setColor(this.strength - 1);
        });

    }

    /**
     * Update the block
     **/
    update() {
        
        this.logic();
        this.draw();
        
    }
    logic() {

        // Animation
        if(this.transition === 0){
            if(this.nextType){
                this.changeTo(this.nextType);
            }
        }
        this.transition--;

        // Turn dirt to grass
        let blockAbove = blocks[max(this.index[0]-1, 0)][this.index[1]];
        if(this.type === "grayGrassBlock" && blockAbove){
            if(blockAbove.canCollide && blockAbove.id !== this.id){
                this.changeTo("D");
            }
        }
        if(this.type === "grassBlock"  && blockAbove){
            if(blockAbove.canCollide && blockAbove.id !== this.id){
                this.changeTo("d");
            }
        }
        
        // Add tops to liquid
        if(this.isLiquid  && blockAbove && this.nextType){
            if(blockAbove.type === "air" || blockAbove.id === this.id){
                this.changeTo(this.nextType);
            }
        }
        
        // Update the displayed lowest light smoothly
        this.lowest = (player.hasColored / player.mustColor) * 255;
        this.lowest = player.colorStrength < 0 ? 0 : this.lowest;
        this.displayLowest += (this.lowest - this.displayLowest) / 20;

    }
}

// ]

/** Player class **/
// [

class Player {
    constructor (params) {
        
        // Physics
        this.vx = 0;
        this.vy = 0;
        this.canJump = false;
        this.inLiquid = false;
        this.wasInLiquid = false;
    
        // Color stuff
        this.lastColorStrength = 0;
        this.colorStrength = 10;
        this.colorDecrease = 0.15;
        this.timeSinceColorChange = 0;
        this.lastColor = color(255, 0, 0);
        this.color = color(255, 0, 0);

        this.light = new Light(0, 0);
        this.nearDark = {};
        this.pathfinder = [];
        this.blankPathfinder = [];

        // wonder wut this does
        this.dead = false;
    
        // Counters
        this.hasColored = 0;
        this.mustColor = 0;
        
        for (let i in params) {
            this[i] = params[i];
        }
    
        this.startX = this.x;
        this.startY = this.y;
        
    }
    
    updateHud() {
        
        // Health bar
        noStroke();
        fill(100);
        Rect(100, 20, 400, 10);
        fill(this.lastColorStrength > 0 ? (this.lerpedColor): 0);
        Rect(100, 20, map(abs(this.lastColorStrength), 0, 100, 0, 400), 10);
        rectMode(CENTER);
        fill(0);
        for (let i = 100 /5 ; i < 100; i += 100 / 5) {
            Rect(map(i, 0, 100, 100, 500), 25, 5, 10);
        }
        rectMode(CORNER);

        // Darkness arrow
        let block = this.nearDark.block;
        if (block && (block.x-cam.x+block.w < 0 || block.x-cam.x > width || block.y-cam.y+block.h < 0 || block.y-cam.y > height)) {
            textAlign(CENTER, CENTER);
            pushMatrix();
                const x = constrain(block.x - cam.x + (block.w / 2), 50, width - 50), y = constrain(block.y - cam.y + (block.w / 2), 50, height - 50);
                Translate(x, y);
                rotate(-atan2(x - (block.x - cam.x + (block.w / 2)), y - (block.y - cam.y + (block.h / 2))) - 90);
                textSize(30);
                fill(0);
                Text(">", 0, 0);
                textSize(20);
                fill(-1);
                Text(">", 0, 0);
            popMatrix();
        }
    
        // Amount left
        textSize(constrain(T(25), 20, 30));
        fill(100);
        Text(this.hasColored+"/"+this.mustColor, 500, 550);
        Text(__frameRate, 500, 580);
        
    }
    
    /**
     * Efficient collisions
     * 
     * Only check the closest blocks for collisions and ignore all others
     **/
    collide(vx, vy) {
        
        let X = floor((this.x + PADDING_X) / blockW)-1,
            Y = floor((this.y + PADDING_Y) / blockH)-1,
            toX, toY;
        for(let y = max(Y, 0); y < min(Y+4, blocks.length); y++) {
            for(let x = max(X, 0); x < min(X+4, blocks[y].length); x++) {
                
                let block = blocks[y][x],
                    overlapX = this.x-block.x < 0?(this.w+(this.x-block.x)):(block.w-(this.x-block.x)),
                    overlapY = this.y-block.y < 0?(this.h+(this.y-block.y)):(block.h-(this.y-block.y)),
                    touching = (overlapY > this.h/2) && (overlapX > this.w/2);
                if(
                    this.x + this.w > block.x &&
                    this.y + this.h > block.y &&
                    block.x + block.w > this.x &&
                    block.y + block.h > this.y
                    ) {
                    
                    // Handle collision
                    if(block.canCollide){
                        if(vx > 0) {
                            this.vx = 0;
                            toX = block.x - this.w;
                        }
                        if(vx < 0) {
                            this.vx = 0;
                            toX = block.x + block.w;
                        }
                        if(vy > 0) {
                            if (this.colorStrength > 0 && this.vy > 1) {
                                for(let i = 0; i < (this.vy * (this.colorStrength / 20)) / 2; i++){
                                    pages.Page.particles.add(new Particle({
                                        x: random(this.x, this.x+this.w),
                                        y: this.y+this.h,
                                        vx: random(-3, 3),
                                        vy: random(-3, -5),
                                        w: blockW/10,
                                        color: this.mixedColor,
                                        fade: true,
                                        health: round(random(30, 50)),
                                        image: "ellipse",
                                        onUpdate: function(){
                                            this.vy += GRAVITY;
                                        }
                                    }));
                                }
                            }
                            this.canJump = true;
                            this.vy = 0;
                            toY = block.y - this.h;
                        }
                        if(vy < 0) {
                            this.vy = 0;
                            toY = block.y + block.h;
                        }
                    }
                    if(block.isLiquid && touching){
                        this.inLiquid = block;
                        this.canJump = true;
    
                    }
                    
                    if(this.colorStrength !== 0) block.setColor(ceil(this.colorStrength/20));
                    
                }
                
            }
        }
        
        if(toX !== undefined){
            this.x = toX;
        }
        if(toY !== undefined){
            this.y = toY;
        }
    
    }
    findNearDark() {
        if (this.hasColored < this.mustColor) {
            this.nearDark = {};
            for (let i = 0; i < blocks.length; i++) {
                for (let j = 0; j < blocks[i].length; j++) {
                    let block = blocks[i][j];
                    if (block.canChangeColor && block.strength <= 0) {
                        let d = dist(this.x, this.y, block.x, block.y);
                        if(this.nearDark.block) {
                            if (this.nearDark.dist > d) {
                                this.nearDark.block = blocks[i][j];
                                this.nearDark.dist = d;
                            }
                        } else {
                            this.nearDark.block = blocks[i][j];
                            this.nearDark.dist = d;
                        }
                    }
                }
            }
        }
    }
    reset() {
        this.x = this.startX;
        this.y = this.startY;
        this.vx = 0;
        this.vy = 0;
        this.nearDark = {};
        this.pathfinder = this.blankPathfinder.map(innerArray => [...innerArray]);
    }

    /**
     * Path finding
     * 
     * Calculate the path around the player by a certain radius
     **/
    findPath() {
        
        this.pathfinder = this.blankPathfinder.map(innerArray => [...innerArray]);
        const pos = toGrid(this.x, this.y, this.w, this.h);
        this.pathfinder[pos.y][pos.x] = 1;
        this.movePath(pos, 2, MAX_DIST);

    }
    movePath(p, a, m) {
        
        if (a > m) return;
        
        [
            {x: p.x+1, y: p.y},
            {x: p.x-1, y: p.y},
            {x: p.x, y: p.y+1},
            {x: p.x, y: p.y-1}
        ].filter((v) => {
            return v.y < blocks.length && v.y >= 0 && v.x < blocks[0].length && v.x >= 0 && !blocks[v.y][v.x].canCollide && (this.pathfinder[v.y][v.x] === 0 || this.pathfinder[v.y][v.x] > a);
        }).forEach((v) => {
            blocks[v.y][v.x].n = a;
            this.pathfinder[v.y][v.x] = a;
            this.movePath(v, a + 1, m);
        });
        
    }

    update() {
        
        this.move();
        this.logic();
        this.draw();
        
    }
    draw() {
        
        noStroke();
        fill(this.mixedColor);
        quad(
            this.x + this.vx * 1.5, this.y,
            this.x + this.w + this.vx * 1.5, this.y,
            this.x + this.w, this.y + this.h,
            this.x, this.y + this.h
        );
        
    }
    move() {

        // Gravity keeps pulling me down down down
        this.vy += GRAVITY;
    
        // Animate color strength bar
        this.lastColorStrength += easeOut(this.colorStrength, this.lastColorStrength, 10);
    
        this.timeSinceColorChange++;
        let acc = 0.7, fri = 0.35, spd = Math.PI+Math.PI/2;
        if(this.inLiquid){
            
            // Handle movement
            if(keys[37] || keys[65]) {
                // move left
                this.vx -= acc;
            }
            if(keys[39] || keys[68]) {
                // move right
                this.vx += acc;
            }
            if(keys[38] || keys[87]) {
                // move up
                this.vy -= acc;
                this.vy = max(this.vy, -4);
            }else{
                this.vy = max(this.vy, -1);
            }
            if(keys[40] || keys[83]) {
                // move down
                this.vy += acc;
                this.vy = min(this.vy, 4);
            }else{
                this.vy = min(this.vy, 1);
            }
            this.vx = constrain(this.vx, -4, 4);
    
            // Gain strength
            this.colorStrength = min(this.colorStrength+0.3, 100);
            if(this.inLiquid.color !== this.color){
                this.timeSinceColorChange = 0;
                this.lastColor = this.color;
                this.color = this.inLiquid.color;
            }
    
        }else{
    
            // Handle movement
            if(keys[37] || keys[65]) {
                // move left
                this.vx = max(this.vx - acc, -spd);
            }
            if(keys[39] || keys[68]) {
                // move right
                this.vx = min(this.vx + acc, spd);
            }
            if((keys[38] || keys[87]) && this.canJump) {
                // move up
                this.canJump = false;
                this.vy = -Math.PI*3;
            }
    
        }

        // Duh
        this.wasInLiquid = this.inLiquid;
        this.inLiquid = false;

        // Collide x
        this.x += this.vx;
        this.collide(this.vx, 0);
        
        // Collide y
        this.y += this.vy;
        this.collide(0, this.vy);
        
        // Friction
        this.vx = this.vx > 0 ? max(this.vx - fri, 0) : min(this.vx + fri, 0);
        
    }
    logic() {
    
        // Cache the lerped
        this.lerpedColor = lerpColor(
            this.lastColor,
            this.color,
            min(this.timeSinceColorChange/100, 1)
        );
        this.mixedColor = this.lastColorStrength > 0 ? lerpColor(
            color(100),
            this.lerpedColor,
            min((this.lastColorStrength/100), 1)
        ) : 0;

        // Light up the world (or else)
        this.light.x = round(PADDING_X + this.x + this.w / 2);
        this.light.y = round(PADDING_Y + this.y + this.h / 2);
        this.light.color = color(this.colorStrength >= 0 ? lerpColor(this.mixedColor, color(-1, 1), this.hasColored / this.mustColor) : 0);
        this.light.strength = this.colorStrength >= 0 ? map(this.colorStrength, 100, 0, 255, 200) : map(this.colorStrength, 0, -100, 200, 150);
        this.light.castRays(blocks);

        // Calculate the pathfinding grid
        this.findPath();

        // Find the nearest darkened block
        if(frameCount % 100 === 0) {
            this.findNearDark();
        }
        
        // Jumping in
        if((!this.wasInLiquid && this.inLiquid)){
            if(this.vy > 0){
                for(let i = 0; i < abs(this.vy*3); i++){
                    pages.Page.particles.add(new Particle({
                        x: random(this.x, this.x+this.w),
                        y: this.y+this.h,
                        vx: random(-3, 3),
                        vy: -random(this.vy/2, this.vy/1.5),
                        w: blockW/10,
                        color: this.inLiquid.color,
                        health: round(this.vy*5),
                        image: "ellipse",
                        fade: true,
                        onUpdate: function(){
                            this.vy += GRAVITY;
                        }
                    }));
                }
            }
            sounds.splash2.play();
            sounds.underwater.play();
        }
    
        // Jumping out
        if((this.wasInLiquid && !this.inLiquid)){
            if(this.vy < 0){
                for(let i = 0; i < abs(this.vy*3); i++){
                    pages.Page.particles.add(new Particle({
                        x: random(this.x, this.x+this.w),
                        y: this.y,
                        vx: random(-3, 3),
                        vy: random(this.vy, this.vy*2),
                        w: blockW/10,
                        color: this.color,
                        health: round(-this.vy*13),
                        image: "ellipse",
                        fade: true,
                        onUpdate: function(){
                            this.vy += GRAVITY;
                        }
                    }));
                }
            }
            sounds.splash1.play();
            sounds.underwater.fadeOut(1);
        }
        
        // Die you fools!
        if (this.y > levelH - PADDING_Y) {
            sounds.wilhelm.play();
            this.colorStrength = max(this.colorStrength-(100/5), -100);
            this.reset();
        }
        if (this.colorStrength === -100) {
            this.dead = true;
        }
    
    }
}

// ]

/** Particle class **/
// [

/**
 * Particle System
 * 
 * An easy way to create tons of particles with
 * three simple methods.
 * 
 * @param {object} params - Contains the particle system's parameters.
 *     @param {array} particles - The list of particles in the system.
 **/
class ParticleSystem {
    constructor(params){
        
        this.particles = [];

        for(let param in params){
            this[param] = params[param];
        }
        
    }

    /**
     * Update all the particles in this system.
     **/
    update(){
        
        for(let i = this.particles.length-1; i >= 0; i--){
            let p = this.particles[i];
            p.update();
            if(p.dead){
                p.onDeath();
                this.particles.splice(i, 1);
            }
        }
        
    }
    
    /**
     * Adds a particle to the system.
     * 
     * @param {object} particle - An instance of Particle
     **/
    add(particle){
        
        this.particles.push(particle);
        
    }
    
    /**
     * Remove all particles in this system.
     **/
    reset(){
        
        Delete(this.particles);
        
    }
}

/**
 * Particle
 * 
 * A dynamic particle with lots of customization options
 * 
 * @param {object} params - Contains the particle's parameters.
 *     @param {number} x/y - Coordinates.
 *     @param {number} w/h - Dimentions.
 *     @param {number} rx/ry/rz - Rotation x, y and z respectively.
 *     @param {number} rvx/rvy/rvz - Rotation velocity x, y and z respectively.
 *     @param {number} vx/vx - Position velocity.
 *     @param {number} vw/vh - Dimention velocity.
 *     @param {number} toX/toY - Move to coordinates.
 *     @param {number} toRx/toRy/toRz - Rotation to move to. X, y and x respectively.
 *     @param {number} toW/toH - Move to dimentions.
 *     @param {number} toX/toY - Move to coordinates.
 *     @param {boolean} fade - Fade to 0% opacity as death nears.
 *     @param {string} image - Either "rect", "ellipse" or and instance of image.
 *     @param {number} health - Represents how many frames the particle has left to live. (-1 if it never dies)
 *     @param {number} pause - How many frames the particle should ignore moveTo commands. (0 if it shouldn't)
 *     @param {number} strokeWeight - The thickness of the particle's border.
 *     @param {color} color/stroke - The particle's color and border color respectively.
 *     @param {function} onArrive - Called when the particle reaches it's moveTo destination.
 *     @param {function} onUpdate - Called whenever the particle is updated.
 *     @param {function} onDeath - Called when the particle dies.
 * 
 **/
class Particle {
    
    constructor(params){
        
        // Positions
        this.x = width/2;
        this.y = height/2;
        this.w = 0;
        this.h = 0;
        this.rx = 0;
        this.ry = 0;
        this.rz = 0;
        
        // Velocities
        this.rvx = 0;
        this.rvy = 0;
        this.rvz = 0;
        this.vx = 0;
        this.vy = 0;
        this.vw = 0;
        this.vh = 0;
        
        // To positions
        this.toX = 0;
        this.toY = 0;
        this.toRx = 0;
        this.toRy = 0;
        this.toRz = 0;
        this.toSpeed = 10;
        this.toRSpeed = 0;
        this.toW = 0;
        this.toH = 0;
        
        // Misc settings
        this.fade = false;
        this.image = "rect";
        this.health = 100;
        this.dead = false;
        this.pause = 0;
        
        // Display
        this.strokeWeight = 0;
        this.color = color(0);
        this.stroke = color(0);
        
        // Events
        this.onArrive = function(){};
        this.onUpdate = function(){};
        this.onDeath = function(){};
    
        for(let param in params){
            this[param] = params[param];
        }
        
        // Background logic
        this.life = this.health;
        if(!this.h && this.image.width && this.image.height){
            this.h = map(this.w, 0, this.image.width, 0, this.image.height);
        }
        
    }
    
    /**
     * Update the size of the particle taking into acount the size of the image, if there is one
     * 
     * @param {number} w - The width of the particle
     * @param {number} h - The height of the particle
     **/
    setSize(w, h){
        
        this.w = w;
        this.h = h||w;
        if(!h && this.image.width && this.image.height){
            this.h = map(this.w, 0, this.image.width, 0, this.image.height);
        }
        
    }
    
    /**
     * Update the particle.
     **/
    update(){
        
        this.logic();
        this.display();
        
    }
    display(){
        fill(this.fade ? lerpColor(color(-1, 1), this.color, constrain(this.health / this.life, 0, 1)) : this.color);
        stroke(this.fade ? lerpColor(color(-1, 1), this.stroke, constrain(this.health / this.life, 0, 1)) : this.stroke);
        this.strokeWeight ? strokeWeight(this.strokeWeight):noStroke();
    
        pushMatrix();
            translate(this.x, this.y);
            rotate(this.rx);
            scale(cos(this.ry), cos(this.rz));
    
            let w = this.w, h = this.h||this.w;
            switch(this.image){
                case "rect":
                    rect(0, 0, w, h);
                    break;
                case "ellipse":
                    ellipse(0, 0, w, h);
                    break;
                default:
                    if(Delag){
                        ellipse(0, 0, w, h);
                    }else{
                        image(this.image, 0, 0, w, h);
                    }
                    break;
            }
        
        popMatrix();
    
    }
    logic(){
    
        this.onUpdate();
        if(this.pause){
            this.pause--;
        }else{
            if(round(this.x-this.toX) === 0 && round(this.y-this.toY) === 0){
                this.onArrive();
            }
            if(this.toX) this.x += easeOut(this.toX, this.x, this.toSpeed);
            if(this.toY) this.y += easeOut(this.toY, this.y, this.toSpeed);
            if(this.toW) this.w += easeOut(this.toW, this.w, this.toSpeed);
            if(this.toH) this.h += easeOut(this.toH, this.h, this.toSpeed);
            if(this.toRx) this.rx += easeOut(this.toRx % 360, this.rx, this.toRSpeed||this.toSpeed);
            if(this.toRy) this.ry += easeOut(this.toRy % 360, this.ry, this.toRSpeed||this.toSpeed);
            if(this.toRz) this.rz += easeOut(this.toRz % 360, this.rz, this.toRSpeed||this.toSpeed);
            if(!this.health) this.dead = true;
            this.health--;
        }
    
        this.x += this.vx;
        this.y += this.vy;
        this.w += this.vw;
        this.h += this.vh;
        this.rx += this.rvx;
        this.ry += this.rvy;
        this.rz += this.rvz;
    
    }
    
}

// ]

/** Extreme walker class **/
// [

/**
 * Extreme Walker
 * 
 * A cool spreading effect for the homescreen
 * 
 * @param {object} params - Contains the extreme walker's parameters.
 *     @param {number} amount - How many pixels are in the walker (both width & height)
 **/
class ExtremeWalker {

    constructor(params) {
        this.grid = [];
        this.color = randomColor();
        this.pending = [];
        this.finished = false;
        this.amount = 200;

        for (var param in params) {
            this[param] = params[param];
        }
        this.reset(this.amount);
    }

    /**
     * Add a pixel to the pending list to add in the future
     **/
    setPixel(x, y) {
        this.finished = false;
        if (y < this.grid.length && y >= 0 && x < this.grid[y].length && x >= 0 && this.grid[y][x] !== 1) {
            this.pending.push([y, x]);
        }
    }

    /**
     * Update all the pixels in the grid,
     * spreading each solid pixel randomly,
     * unless it's already spread in all four directions
     **/
    update() {

        // No need to continue
        if (this.finished) return;

        // Setup
        noStroke();
        fill(this.color);

        // Assume the grid is finished spreading
        this.finished = true;

        this.grid.forEach((v2, y, a) => {
            v2.forEach((v, x, a2) => {
                if (v === 1) {
                    
                    // Draw a rectangle at the current pixel's position
                    rect(round(x * (width / a2.length)), round(y * (height / a.length)), round(width / a2.length) + 1, round(height / a.length) + 1);
                    
                    // Choose a random direction to spread in
                    var r = floor(random(0, 5));
                    switch (r) {
                        case 1:
                            this.setPixel(x + 1, y, a, a2);
                            break;
                        case 2:
                            this.setPixel(x, y + 1, a, a2);
                            break;
                        case 3:
                            this.setPixel(x - 1, y, a, a2);
                            break;
                        case 4:
                            this.setPixel(x, y - 1, a, a2);
                            break;
                    }
                    
                    // Check if the current pixel has spread in all directions
                    if (
                        ((!this.grid[y + 1]) || this.grid[y + 1][x] !== 0) &&
                        ((!this.grid[y - 1]) || this.grid[y - 1][x] !== 0) &&
                        ((!this.grid[y][x + 1]) || this.grid[y][x + 1] !== 0) &&
                        ((!this.grid[y][x - 1]) || this.grid[y][x - 1] !== 0)
                    ) {
                        this.grid[y][x] = 2;
                    }
                    
                }
                
                // The grid is not finished spreading
                if (v === 0) {
                    this.finished = false;
                }
            });
        });
        
        // Add all pending pixels to the grid
        for (var j = this.pending.length - 1; j >= 0; j--) {
            this.grid[this.pending[j][0]][this.pending[j][1]] = 1;
            this.pending.splice(j, 1);
        }

    }

    /**
     * Reset the grid
     **/
    reset(amount) {
        this.grid = Array.from({ length: amount }, function() { return Array(amount).fill(0); });
    }

}

// ]

/** Initiate **/
// [

/**
 * 
 * @param {string} type - 
 * @param {boolean} canChangeColor - 
 * @param {boolean} canAnimate - 
 * @param {string} nextType - 
 * @param {boolean} canInfiniteAnimate - 
 * @param {boolean} canCollide - 
 * @param {function} onChange - 
 * @param {number} animateSpeed - 
 * @param {boolean} isColored - 
 * @param {number} transSpeed - 
 * 
 */
let blockData = {
    "-": {
        type: "air",
    },
    "m": {
        canChangeColor: 1,
        canAnimate: 1,
        canInfiniteAnimate: 1,
        type: "grass",
        strength: 1,
        nextType: "M",
    },
    "M": {
        type: "grayGrass",
        canChangeColor: 1,
        canAnimate: 1,
        nextType: "m",
    },
    "s": {
        canChangeColor: 1,
        type: "stone",
        canCollide: 1,
        strength: 1,
        nextType: "S",
    },
    "S": {
        type: "grayStone",
        canCollide: 1,
        canChangeColor: 1,
        nextType: "s",
    },
    "o": {
        canChangeColor: 1,
        type: "ore",
        canCollide: 1,
        strength: 1,
        nextType: "O",
    },
    "O": {
        type: "grayOre",
        canCollide: 1,
        canChangeColor: 1,
        nextType: "o"
    },
    "f": {
        canChangeColor: 1,
        canAnimate: 1,
        type: "flower",
        strength: 1,
        nextType: "F",
    },
    "F": {
        type: "grayFlower",
        canChangeColor: 1,
        canAnimate: 1,
        nextType: "f"
    },
    "g": {
        canChangeColor: 1,
        type: "grassBlock",
        canCollide: 1,
        strength: 1,
        nextType: "G",
    },
    "G": {
        type: "grayGrassBlock",
        canCollide: 1,
        canChangeColor: 1,
        nextType: "g"
    },
    "d": {
        canChangeColor: 1,
        type: "dirt",
        canCollide: 1,
        strength: 1,
        nextType: "D",
    },
    "D": {
        type: "grayDirt",
        canCollide: 1,
        canChangeColor: 1,
        nextType: "d"
    },
    "t": {
        canChangeColor: 1,
        canAnimate: 1,
        type: "flowerGrass",
        strength: 1,
        nextType: "T",
    },
    "T": {
        type: "grayFlowerGrass",
        canChangeColor: 1,
        canAnimate: 1,
        nextType: "t"
    },
    "q": {
        canChangeColor: 1,
        canAnimate: 1,
        type: "doubleFlower",
        strength: 1,
        nextType: "Q",
    },
    "Q": {
        type: "grayDoubleFlower",
        canChangeColor: 1,
        canAnimate: 1,
        nextType: "q"
    },
    "e": {
        canChangeColor: 1,
        canAnimate: 1,
        type: "leaves",
        strength: 1,
        nextType: "E",
    },
    "E": {
        type: "grayLeaves",
        canChangeColor: 1,
        canAnimate: 1,
        nextType: "e",
        transSpeed: 100
    },

    "0": {
        nextType: "7",
        type: "redPool",
        isLiquid: 1,
        color: color(255, 0, 0),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "1": {
        nextType: "8",
        type: "bluePool",
        isLiquid: 1,
        color: color(50, 50, 200),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "2": {
        nextType: "9",
        type: "yellowPool",
        isLiquid: 1,
        color: color(220, 220, 50),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "3": {
        nextType: "^",
        type: "orangePool",
        isLiquid: 1,
        color: color(255, 255/2, 0),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "4": {
        nextType: "<",
        type: "greenPool",
        isLiquid: 1,
        color: color(50, 200, 50),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "5": {
        nextType: ">",
        type: "purplePool",
        isLiquid: 1,
        color: color(200, 50, 200),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "6": {
        nextType: "v",
        type: "brownPool",
        isLiquid: 1,
        color: color(100, 50, 0),
        canInfiniteAnimate: 1,
        strength: 1
    },

    "7": {
        type: "redPoolTop",
        isLiquid: 1,
        color: color(255, 0, 0),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "8": {
        type: "bluePoolTop",
        isLiquid: 1,
        color: color(50, 50, 200),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "9": {
        type: "yellowPoolTop",
        isLiquid: 1,
        color: color(220, 220, 50),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "^": {
        type: "orangePoolTop",
        isLiquid: 1,
        color: color(255, 255/2, 0),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "<": {
        type: "greenPoolTop",
        isLiquid: 1,
        color: color(50, 200, 50),
        canInfiniteAnimate: 1,
        strength: 1
    },
    ">": {
        type: "purplePoolTop",
        isLiquid: 1,
        color: color(200, 50, 200),
        canInfiniteAnimate: 1,
        strength: 1
    },
    "v": {
        type: "brownPoolTop",
        isLiquid: 1,
        color: color(100, 50, 0),
        canInfiniteAnimate: 1,
        strength: 1
    },

    "l": {
        type: "bug",
        canChangeColor: 1,
        canInfiniteAnimate: 1,
        canAnimate: 1,
        animateSpeed: 3,
        strength: 1,
        nextType: "L",
        onChange: function(e){
            sounds["cute"+(~~random(4)+1)].play();
        },
    },
    "L": {
        canAnimate: 1,
        canChangeColor: 1,
        type: "grayBug",
        nextType: "l"
    },
    "b": {
        canChangeColor: 1,
        type: "bird",
        canAnimate: 1,
        strength: 1,
        onChange: function(e){
            sounds["egg"+(~~random(2)+1)].play();
            entities.push(new Bird({
                x: e.x,
                y: e.y
            }));
        },
        nextType: "B",
    },
    "B": {
        type: "grayBird",
        canChangeColor: 1,
        canAnimate: 1,
        nextType: "b"
    },
    "r": {
        type: "grassGuy",
        canChangeColor: 1,
        canInfiniteAnimate: 1,
        canAnimate: 1,
        animateSpeed: 10,
        strength: 1,
        nextType: "R",
    },
    "R": {
        canAnimate: 1,
        canChangeColor: 1,
        type: "grayGrassGuy",
        nextType: "r"
    },
    "y": {
        type: "stoneGuy",
        canChangeColor: 1,
        canInfiniteAnimate: 1,
        canAnimate: 1,
        animateSpeed: 7,
        strength: 1,
        nextType: "Y",
    },
    "Y": {
        canAnimate: 1,
        canChangeColor: 1,
        type: "grayStoneGuy",
        nextType: "y",
        transSpeed: 100
    },

};
let levels = [
    [
        "------------------------LMM----------------------------",
        "---------------------FFMGGGFFFMM-----------------------",
        "-@---------------MFLTGGGGGGGGGGGFF---------------------",
        "E-R-MMMM-QQFMLTMTGGGGGGGGGGGGGGGGGFMTFMQTM--QEQEQ--F--M",
        "GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG--GGGGG44G00G",
        "GGGGGGGGGGGGGGGGGG---FFFFFFFFFMMMMMMMMMM----GGGGG44G00G",
        "GGGGGGGGGGGGGG-QEQEQEGGGGGGGGGGGGGGGGGGGGGGGGGGGG44G00G",
        "SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS",
        "OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO--OOOOOOOO",
        "-------------------------------------------------------",
        "-------------------------------------------------------",
        "-------------------------------------------------------",
    ],
    [
        "------------------------lmm----------------------------",
        "---------------------ffmgggfffmm-----------------------",
        "--@--------------mfltgggggggggggff---------------------",
        "e-r-mmmm-qqfmltmtgggggggggggggggggfmtfmqtm--qeqeq--f--m",
        "gggggggggggggggggggggggggggggggggggggggggg--ggggg44g00g",
        "gggggggggggggggggg---fffffffffmmmmmmmmmm----ggggg44g00g",
        "gggggggggggggg-qeqeqegggggggggggggggggggggggggggg44g00g",
        "sssssssssssssssssssssssssssssssssssssssssssssssssssssss",
        "ooooooooooooooooooooooooooooooooooooooooooooo--oooooooo",
        "-------------------------------------------------------",
        "-------------------------------------------------------",
        "-------------------------------------------------------",
    ],
    [
        "----G####################----------",
        "----G####################----------",
        "----G####################----------",
        "@---G####################----------",
        "G333GGGGGGGGGGGGGGGGGGGGMR----GGGGG",
        "G333GGGGGGGGGGGGGGGGGGGGGGGF---GGG-",
        "GG33GGGGGGGGGGGGGGGGGGGGGGGG--MGGEE",
        "GGG3SSSSSSSGGGGGGGGGGGGGGG----GGGGG",
        "SSS3SSSSSSSSSSSGGGGGGGGG---LQGGSGGG",
        "SS----SSSSSSSSSSSSSSGGG--QMGGGSSSGE",
        "SSTT---SSSSSSSSSS--------GGSSSSSSGG",
        "SSGG-------SSSSS-----------SSSSSGG-",
        "SSSG--SS---Y--L---V-L----Y--SSSSGEE",
        "SSSS--SSSSSSSSSSSSSSSSSSSSS-----SGG",
        "OOOOT-SSSSSSSSSSSSSSSSSSSSSSS-L--OO",
        "OOOOG--OOO5555SSSSSSSSSOOOOOOOOO-E-",
        "OOOOGTTM55555OOOOOOOOOOOOOOOOOOOGGG",
        "-OOOOGGGOOOOOOOOOOOOOOOOOOOOOOOGGGG",
    ],
    [
        "---------------------------------------------@-------------------------------------------------------------------------",
        "---------------------------------------------G-------------------------------------------------------------------------",
        "------###-----------------------------------G-----TMMTMMTMMTMTMTTTTTMTTMTTTMMMTMMTMMTMMTMTMTTTTTMTTMTTTMMMTMMTMMT----TM",
        "GG0000GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG2222GG",
        "SS0000SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS2222SS",
        "OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO",
    ],
], level = 2;

let blocks = [];
blocks.handle = function(func) {
    for(let y = max(floor((cam.y + PADDING_Y) / blockH) - 2, 0); y < min(floor((cam.y + PADDING_Y + height) / blockH) + 2, this.length); y++){
        for(let x = max(floor((cam.x + PADDING_X) / blockW) - 2, 0); x < min(floor((cam.x + PADDING_X + width) / blockW) + 2, this[y].length); x++){
            this[y][x][func]();
        }
    }
}

function createLevel() {
    
    // Reset
    entities.splice(0, entities.length-1);
    blocks.splice(0, blocks.length-1);

    // Loop y axis
    for (let y = 0; y < levels[level].length; y++) {
        
        blocks.push([]);
        
        // Loop x axis
        for (let x = 0; x < levels[level][y].length; x++) {
            let type = levels[level][y][x];
            switch (type) {
                case "@":
                    // Create new player
                    player = new Player({
                        w: blockW * 0.8,
                        h: blockH * 0.8,
                        x: x*blockW,
                        y: y*blockH
                    });
                    type = "-";
                    break;
                case "#":
                    entities.push(new Rottweiler({
                        w: blockW * 0.8,
                        h: blockH * 0.8,
                        x: x*blockW,
                        y: y*blockH
                    }));
                    type = "-";
                    break;
            }

            blocks[y].push(new Block({
                w: blockW,
                h: blockH,
                x: x*blockW,
                y: y*blockH,
                symbol: type
            }));
        }
    
    }

    // Add air padding
    for (let y = 0; y < (PADDING_Y / blockH); y++) {
        blocks.push([]);
        for (let x = 0; x < blocks[blocks.length-2].length; x++) {
            blocks[blocks.length-1].push(new Block({
                w: blockW,
                h: blockH,
                x: blocks[blocks.length-1].length * blockW,
                y: (blocks.length-1) * blockH,
                symbol: "-"
            }));
        }
    }
    for (let y = 0; y < (PADDING_Y / blockH); y++) {
        blocks.unshift([]);
        for (let x = 0; x < blocks[1].length; x++) {
            blocks[0].push(new Block({
                w: blockW,
                h: blockH,
                x: blocks[0].length * blockW,
                y: (-y - 1) * blockH,
                symbol: "-"
            }));
        }
    }
    for (let y = 0; y < blocks.length; y++) {
        for (let x = 0; x < (PADDING_X / blockW); x++) {
            blocks[y].unshift(new Block({
                w: blockW,
                h: blockH,
                x: (-x - 1) * blockW,
                y: (y * blockH) - PADDING_Y,
                symbol: "-"
            }));
        }
    }
    for (let y = 0; y < blocks.length; y++) {
        for (let x = 0; x < (PADDING_X / blockW); x++) {
            blocks[y].push(new Block({
                w: blockW,
                h: blockH,
                x: (blocks[y].length * blockW) - PADDING_X,
                y: (y * blockH) - PADDING_Y,
                symbol: "-"
            }));
        }
    }

    // Index blocks
    var id = 0;
    for (let y = 0; y < blocks.length; y++) {
        for (let x = 0; x < blocks[y].length; x++) {
            if (y === 0 || x === 0 || y === blocks.length-1 || x === blocks[y].length-1) blocks[y][x].isEnd = true;
            blocks[y][x].index = [y, x];
            blocks[y][x].id = id;
            id++;
            if (blocks[y][x].canChangeColor) {
                if (blocks[y][x].strength > 0) {
                    player.hasColored++;
                }
                player.mustColor++;
            }
        }
    }

    levelW = blockW*blocks[0].length;
    levelH = blockH*blocks.length;
    
    player.blankPathfinder = blocks.map(innerArray => innerArray.map(() => 0));
    player.reset();

}

const pages = new Pages({
    pages: {
        loadImages: new Page({
            artKeys: Object.keys(art),
            spriteKeys: Object.keys(sprites),
            loadedA: 0,
            innerLoad: 0,
            loadedS: 0,
            draw: function() {
                background(0);
                noStroke();
                rectMode(CORNER);
                if(this.loadedA < this.artKeys.length){
                    let a = this.artKeys[this.loadedA];
                    if(typeof art[a][0] === "string"){
                        background(0, 0);
                        let pixelW = 400/art[a][0].length,
                            pixelH = 400/art[a].length;
                        for(let i = 0; i < art[a].length; i++){
                            for(let j = 0; j < art[a][i].length; j++){
                                fill(colors[art[a][i][j]]);
                                rect(j*pixelW, i*pixelH, pixelW, pixelH);
                            }
                        }
                        art[a] = get(0, 0, 400, 400);
                        this.loadedA++;
                    }else{
                        background(0, 0);
                        let pixelW = 400/art[a][this.innerLoad][0].length,
                            pixelH = 400/art[a][this.innerLoad].length;
                        for(let i = 0; i < art[a][this.innerLoad].length; i++){
                            for(let j = 0; j < art[a][this.innerLoad][i].length; j++){
                                fill(colors[art[a][this.innerLoad][i][j]]);
                                rect(j*pixelW, i*pixelH, pixelW, pixelH);
                            }
                        }
                        art[a][this.innerLoad] = get(0, 0, 400, 400);
                        if(this.innerLoad === art[a].length-1){
                            this.innerLoad = 0;
                            this.loadedA++;
                        }else{
                            this.innerLoad++;
                        }
                    }
                }else{
                    if(this.loadedS < this.spriteKeys.length){
                        let a = this.spriteKeys[this.loadedS];
                        if(typeof sprites[a][0] === "string"){
                            background(0, 0);
                            let pixelW = 400/sprites[a][0].length,
                                pixelH = 400/sprites[a].length;
                            for(let i = 0; i < sprites[a].length; i++){
                                for(let j = 0; j < sprites[a][i].length; j++){
                                    fill(colors[sprites[a][i][j]]);
                                    rect(j*pixelW, i*pixelH, pixelW, pixelH);
                                }
                            }
                            sprites[a] = get(0, 0, 400, 400);
                            this.loadedS++;
                        }else{
                            background(0, 0);
                            let pixelW = 400/sprites[a][this.innerLoad][0].length,
                                pixelH = 400/sprites[a][this.innerLoad].length;
                            for(let i = 0; i < sprites[a][this.innerLoad].length; i++){
                                for(let j = 0; j < sprites[a][this.innerLoad][i].length; j++){
                                    fill(colors[sprites[a][this.innerLoad][i][j]]);
                                    rect(j*pixelW, i*pixelH, pixelW, pixelH);
                                }
                            }
                            sprites[a][this.innerLoad] = get(0, 0, 400, 400);
                            if(this.innerLoad === sprites[a].length-1){
                                this.innerLoad = 0;
                                this.loadedS++;
                            }else{
                                this.innerLoad++;
                            }
                        }
                    }else{
                        console.log('---Images loaded---');
                        pages.showPage("loadAudio");
                    }
                }
            }
        }),
        game: new Page({
            dust: new ParticleSystem(),
            particles: new ParticleSystem(),
            draw: function() {
                background(lerpColor(
                    color(200),
                    color(255),
                    ((player.hasColored/player.mustColor)||0)
                ));

                // Update world
                pushMatrix();

                    // Camera translations
                    scale(cam.scale);
                    translate(round(-cam.x), round(-cam.y));

                    // Particles
                    this.dust.update();
                    this.particles.update();

                    // Display blocks
                    blocks.handle("update");
                    entities.forEach((e) => {
                        if (e.resetFrame) e.resetFrame();
                    })
                    for (let i = 0; i < entities.length; i++) {
                        entities[i].index = i;
                        entities[i].update();
                        if (entities[i].dead) entities.splice(i, 1);
                    }
                    
                    // Handle player
                    if (player) {
                        cam.moveTo(player);
                        player.update();
                    }
                    
                    // Display shadows
                    blocks.handle("shadow");
                    player.light.draw();

                popMatrix();
            
                // Dust
                if(frameCount % 5 === 0){
                    this.dust.add(new Particle({
                        x: width+tx(10)+cam.x,
                        y: random(0, height)+cam.y,
                        vx: tx(-1),
                        w: 4,
                        color: lerpColor(
                            color(0, 10),
                            color(random(0, 255), random(0, 255), random(0, 255), 30),
                            ((player.hasColored/player.mustColor)||0)
                        ),
                        health: width + 20,
                        rvz: random(-0.02, 0.02),
                        rvx: random(-0.02, 0.02),
                        image: round(random(0, 1))?"ellipse":"rect",
                        onUpdate: function(){
                            this.vy = cos(this.health+frameCount)/4;
                        }
                    }));
                }
            
                player.updateHud();
                songs["dark1"].setVolume(map(mouseX, 0, width, 0, 1));

                // Fix this
                // if (player.dead) createLevel();

            }
        }),
        home: new Page({
            walkers: [],
            addWalker: function() {
                this.walkers.push(new ExtremeWalker({
                    amount: 200
                }));
            },
            draw: function() {
                
                pushStyle();
                    fill(0, 5);
                    noStroke();
                    rect(0, 0, width, height);
                popStyle();

                for (let i = this.walkers.length - 1; i >= 0; i--) {
                    this.walkers[i].update();
                    if (this.walkers[i].finished) {
                        this.walkers.splice(i, 1);
                    }
                }

                if (this.walkers.length === 0) {
                    this.addWalker();
                }
                this.walkers[this.walkers.length - 1].setPixel(floor(mouseX / (width / this.walkers[this.walkers.length - 1].grid.length)), floor(mouseY / (height / this.walkers[this.walkers.length - 1].grid.length)));

                if (mouse.released && this.walkers.length < 5) {
                    this.addWalker();
                    mouse.use();
                }
            }
        }),
        loadAudio: new Page({
            draw: function() {
                background(0);
                if (loadedAudio === totalAudio) {
                    console.log('---Audio loaded---');
                    pages.showPage("home");
                    songs["happy2"].play();
                }
            }
        })
    }
});

createLevel();
Delag ? pages.showPage("loadImages") : pages.showPage("loadAudio");

// Start audio
// songs["dark"+round(random(1, 4))].play();

// ]

/** Draw loop **/
// [

frameRate(60);
function draw (){
    
    frameCount++;
    pages.update();
    mouse.update();

}

// ]

/** Events **/
// [

var mousePressed = function() {
    mouse.press();
};
var mouseReleased = function() {
    mouse.release();
};
var keyPressed = function() {
    keys[keyCode] = true;
};
var keyReleased = function() {
    keys[keyCode] = false;
};

// ]

/** End **/
// [
} function init() {

    parseAudio();

    let canvas = document.getElementById("game-canvas");
    let processingInstance = runPJS(program);

    let els = document.getElementsByClassName("loading");
    for(let i = 0; i < els.length; i++){
        els[i].style.display = "none";
    }

};

// ]

    </script>

    <script></script>

</html>
